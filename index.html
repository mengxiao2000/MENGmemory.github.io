<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme-color" content="#58b77a">
  <title>黎明已经不远</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Syiao">
  <meta name="keywords" content>
  <meta name="description" content="“多新鲜啊~~”">
  <script id="hexo-configurations">
  var CONFIG = {
    root: '/mengxiao2000.github.io/',
    theme: 'lx',
    version: '0.3.9',
    localsearch:{
      "enable": false,
      "trigger": "auto",
      "top_n_per_article": 1,
      "unescape": false,
      "preload": false
      },
    path: 'null'
  };
</script>

  <link rel="shortcut icon" href="/mengxiao2000.github.io/favicon.ico">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/css/main.min.css">
  <style type="text/css">
    pre,
    code {
      font-family: 'Fira Code', monospace;
    }
    html {
      font-family: sans-serif;
    }
    body {
      font-family: sans-serif;
    }
    h1, h2, h3, h4, h5, figure {
      font-family: sans-serif;
    }
    .menu-container{
      font-family: sans-serif;
    }
  </style>

  <script src="//cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/js/jquery.jside.menu.js"></script>
	<script>
	$(document).ready(function(){
	$(".menu-container").jSideMenu({
	    jSidePosition: "position-right",
	    jSideSticky: true,
	    jSideSkin: "greenish",
	     });
	}); 
	</script>
  <!--baidu_analytics-->
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?e191a1666c";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Fira Code:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">
<link rel="alternate" href="/mengxiao2000.github.io/atom.xml" title="黎明已经不远" type="application/atom+xml">
</head>
<body>
<div id="page">

<div id="lx-aside" style="background-image: url(//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/images/cover.jpeg)">
  <div class="overlay">
  <div class="featured">
    <div class="avatar"><a href="/mengxiao2000.github.io/"><img src="/mengxiao2000.github.io/images/avatar.jpeg"></a></div>
    <span>Syiao</span>
    <h1>黎明已经不远</h1>
    <span>——洗洗睡吧</span>
    
  </div>
  </div>
</div>

<div id="lx-main-content">
  <div class="lx-post">

  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/mengxiao2000.github.io/2021/01/12/market-strategy/">网络中的市场与策略性互动</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2021-01-12 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/mengxiao2000.github.io/categories/网络/">网络</a></span>
      <p></p><h1 id="网络中的市场与策略性互动"><a href="#网络中的市场与策略性互动" class="headerlink" title="网络中的市场与策略性互动"></a>网络中的市场与策略性互动</h1><p>这本书看完快一个月了，是今年接触到的讲解最细致的一本书，案例结合的都非常好。最近换了电脑，也没时间整理，试试迁移完能不能发出去———————————————</p>
<h2 id="匹配市场"><a href="#匹配市场" class="headerlink" title="匹配市场"></a>匹配市场</h2><h3 id="二部图与完美匹配"><a href="#二部图与完美匹配" class="headerlink" title="二部图与完美匹配"></a>二部图与完美匹配</h3><ul>
<li>二部图</li>
<li><p>完美匹配</p>
<ul>
<li>每个节点都有边连接到另外一列的节点</li>
<li>不会出现左边两个节点同时连接到右边同一个节点上</li>
</ul>
</li>
<li><p>受限组</p>
<ul>
<li><p>匹配定理</p>
<ul>
<li>无法完美匹配的二部图一定包含受限组</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="估值与最优匹配"><a href="#估值与最优匹配" class="headerlink" title="估值与最优匹配"></a>估值与最优匹配</h3><ul>
<li>每个人得到的对象的估值总和</li>
</ul>
<h3 id="价格与市场清仓性质"><a href="#价格与市场清仓性质" class="headerlink" title="价格与市场清仓性质"></a>价格与市场清仓性质</h3><ul>
<li><p>价格与回报</p>
<ul>
<li>回报=估值-支付的钱</li>
</ul>
</li>
<li><p>市场清仓价格</p>
<ul>
<li>使每个商品都有了不同的卖家的一组商品价格</li>
<li>如果一组价格形成的偏好卖家图有完美匹配那么它就是一组市场清仓价格</li>
<li><p>市场清仓价格的属性</p>
<ul>
<li><p>存在性</p>
<ul>
<li>对任何买家估值的组合，总存在一组市场清仓价格</li>
</ul>
</li>
<li><p>最优性</p>
<ul>
<li>对于任何一组市场清仓价格，偏好卖家图中的一个完美匹配使估值总和在所有买家与卖家的配对中达到最高</li>
<li>一组市场清仓价格及其对应的偏好卖家图中的完美匹配，能产生卖家和卖家回报总和的最大可能值</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="构造一组清仓价格"><a href="#构造一组清仓价格" class="headerlink" title="构造一组清仓价格"></a>构造一组清仓价格</h3><ul>
<li>受限卖家的邻居N（S）在每一轮都提高一个单位的出价，直到偏好卖家图出现出现完美匹配</li>
</ul>
<h3 id="与单品拍卖的关系"><a href="#与单品拍卖的关系" class="headerlink" title="与单品拍卖的关系"></a>与单品拍卖的关系</h3><ul>
<li>构造价格为0的“虚构卖家”</li>
</ul>
<h3 id="匹配定理的证明"><a href="#匹配定理的证明" class="headerlink" title="匹配定理的证明"></a>匹配定理的证明</h3><ul>
<li><p>交替与增强通路</p>
<ul>
<li><p>交替通路</p>
<ul>
<li>匹配与非匹配边交替的通路</li>
</ul>
</li>
<li><p>增强通路</p>
<ul>
<li>带有非匹配端点的交替通路为增强同路，因为它对应一种增强匹配的方式</li>
</ul>
</li>
<li><p>对于二部图中一个匹配，如果存在一条其两个端点都是非匹配节点的交替通路，则该匹配可被放大</p>
</li>
</ul>
</li>
<li><p>搜索增强通路</p>
<ul>
<li>交替先宽搜索</li>
</ul>
</li>
<li><p>增强通路与受限组</p>
</li>
<li>匹配定理</li>
<li>完美匹配计算</li>
</ul>
<h2 id="中介市场网络模型"><a href="#中介市场网络模型" class="headerlink" title="中介市场网络模型"></a>中介市场网络模型</h2><h3 id="交易网络模型"><a href="#交易网络模型" class="headerlink" title="交易网络模型"></a>交易网络模型</h3><ul>
<li>卖家-经纪人-买家</li>
<li>回报</li>
<li><p>最佳应对和均衡</p>
<ul>
<li><p>子博弈完美纳什均衡</p>
<ul>
<li>卖方和卖方在经纪人报价后动作</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="交易网络模型中的均衡"><a href="#交易网络模型中的均衡" class="headerlink" title="交易网络模型中的均衡"></a>交易网络模型中的均衡</h3><ul>
<li><p>垄断</p>
<ul>
<li>买方和卖方只有一个经纪人可选择</li>
</ul>
</li>
<li><p>理想竞争</p>
<ul>
<li><p>买方和卖方有多个经纪人可选择</p>
<ul>
<li>经纪人共同的出价和要价</li>
</ul>
</li>
</ul>
</li>
<li><p>隐含的理想竞争</p>
</li>
</ul>
<h3 id="拍卖及波及效应"><a href="#拍卖及波及效应" class="headerlink" title="拍卖及波及效应"></a>拍卖及波及效应</h3><ul>
<li><p>次价拍卖</p>
<ul>
<li>均衡价格和物品流实现了次价拍卖而非依靠规定实现</li>
</ul>
</li>
<li><p>网络中变化的波及效应</p>
<ul>
<li>网络结构的局部变化对整体交易的影响</li>
</ul>
</li>
</ul>
<h3 id="交易网络中的社会福利"><a href="#交易网络中的社会福利" class="headerlink" title="交易网络中的社会福利"></a>交易网络中的社会福利</h3><ul>
<li>比较丰富连接的网络比稀疏连接的网络具有取得更高社会福利的潜力，前者允许商品充分流动，后者可能阻碍商品流动的瓶颈</li>
<li>均衡产生极大化社会福利的分配</li>
</ul>
<h3 id="经纪人的利润"><a href="#经纪人的利润" class="headerlink" title="经纪人的利润"></a>经纪人的利润</h3><ul>
<li>经纪人为了得到利润，必须在网络中具有根本性（难以被他人替代）的功能</li>
<li>从经纪人到另一节点的”基本边“，删除会改变社会最优值，使经纪人可以从均衡中获益</li>
</ul>
<h2 id="网络中的议价与权力"><a href="#网络中的议价与权力" class="headerlink" title="网络中的议价与权力"></a>网络中的议价与权力</h2><h3 id="权力的描述"><a href="#权力的描述" class="headerlink" title="权力的描述"></a>权力的描述</h3><ul>
<li>依赖性</li>
<li>排他性</li>
<li>饱和性</li>
<li>介数</li>
</ul>
<h3 id="权力与交换的实验性研究"><a href="#权力与交换的实验性研究" class="headerlink" title="权力与交换的实验性研究"></a>权力与交换的实验性研究</h3><ul>
<li>网络交换实验</li>
</ul>
<h3 id="网络交换实验的结果"><a href="#网络交换实验的结果" class="headerlink" title="网络交换实验的结果"></a>网络交换实验的结果</h3><h3 id="与买卖网络的一种联系"><a href="#与买卖网络的一种联系" class="headerlink" title="与买卖网络的一种联系"></a>与买卖网络的一种联系</h3><h3 id="二人交互模型：纳什议价解"><a href="#二人交互模型：纳什议价解" class="headerlink" title="二人交互模型：纳什议价解"></a>二人交互模型：纳什议价解</h3><ul>
<li><p>纳什议价解</p>
<ul>
<li>当A和B就如何划分￥1进行谈判时，弱A有外部选项x，B有外部选项y，且x+y≤1，则纳什议价解为，对A来说x+1s/2=(x+1-y)/2，对B来说则同理替换。“如何分配剩余s=1-x-y的问题”</li>
</ul>
</li>
</ul>
<h3 id="二人交互模型：最后通牒"><a href="#二人交互模型：最后通牒" class="headerlink" title="二人交互模型：最后通牒"></a>二人交互模型：最后通牒</h3><ul>
<li><p>最后通牒博弈</p>
<ul>
<li>安排在权力严重失衡条件下的实验对象会系统性的偏离简单理论模型的极端预测结果。</li>
</ul>
</li>
</ul>
<h3 id="网络交换模型：稳定结果"><a href="#网络交换模型：稳定结果" class="headerlink" title="网络交换模型：稳定结果"></a>网络交换模型：稳定结果</h3><ul>
<li>不稳定性：给定一个匹配结果，不再该结果匹配中的一条边，其两个端点的X和Y的价值之和小于1，“偷走已有的匹配”</li>
<li>稳定性：网络交换不包含任何不稳定性</li>
<li>稳定结果的应用</li>
<li><p>稳定结果的局限性</p>
<ul>
<li>不会做出阶段结果的假设</li>
<li>对具有微妙权力差别的网络作用有限</li>
</ul>
</li>
</ul>
<h3 id="网络交换模型：平衡结果"><a href="#网络交换模型：平衡结果" class="headerlink" title="网络交换模型：平衡结果"></a>网络交换模型：平衡结果</h3><ul>
<li>给定网络的其余部分为每个节点提供的最好外部选项，一个交换结果成为平衡的条件是，对匹配中的每条边来说，价值的划分体现了两个节点纳什议价的结果。“考虑纳什议价解对剩余部分和均分”</li>
</ul>
<h3 id="讨论议价的一种博弈论方法"><a href="#讨论议价的一种博弈论方法" class="headerlink" title="讨论议价的一种博弈论方法"></a>讨论议价的一种博弈论方法</h3><ul>
<li>动态博弈</li>
<li><p>博弈的分析</p>
<ul>
<li><p>有穷视野的议价博弈</p>
<ul>
<li><p>议价的两阶段版本</p>
<ul>
<li>回报期望计算</li>
</ul>
</li>
</ul>
</li>
<li><p>无穷视野的议价博弈</p>
<ul>
<li>博弈的结构和回报不随时间而改变，具有随时间的平稳性</li>
<li>破裂概率p趋向0，结果收敛到纳什议价解</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="广告支撑的搜索市场"><a href="#广告支撑的搜索市场" class="headerlink" title="广告支撑的搜索市场"></a>广告支撑的搜索市场</h2><h3 id="广告业作为一种匹配市场"><a href="#广告业作为一种匹配市场" class="headerlink" title="广告业作为一种匹配市场"></a>广告业作为一种匹配市场</h3><ul>
<li>点击率和点击收入</li>
<li>构造匹配市场</li>
<li>获得市场清仓价格</li>
</ul>
<h3 id="在匹配市场中鼓励真实出价：VCG原理"><a href="#在匹配市场中鼓励真实出价：VCG原理" class="headerlink" title="在匹配市场中鼓励真实出价：VCG原理"></a>在匹配市场中鼓励真实出价：VCG原理</h3><ul>
<li><p>VCG机制</p>
<ul>
<li>最大化社会福利：出价最高的竞拍者中标</li>
<li>获胜者所支付的费用等于他因这个商品对其他竞拍者造成的“损失”</li>
</ul>
</li>
<li><p>运用到匹配市场中</p>
<ul>
<li>卖方拥有独立私密的估价</li>
<li>VCG价格计算</li>
</ul>
</li>
<li><p>VCG价格制定机制</p>
<ul>
<li>不同于市场清仓价格中由卖方制造的“通告价格”</li>
<li>买方制造的“个性价格”</li>
<li>次价拍卖是VCG价格机制的一种特例</li>
</ul>
</li>
</ul>
<h3 id="分析VCG机制：真实报价是一个占优策略"><a href="#分析VCG机制：真实报价是一个占优策略" class="headerlink" title="分析VCG机制：真实报价是一个占优策略"></a>分析VCG机制：真实报价是一个占优策略</h3><ul>
<li>买方报告虚假估价不会带来更高的回报</li>
</ul>
<h3 id="广义次价拍卖（GSP）"><a href="#广义次价拍卖（GSP）" class="headerlink" title="广义次价拍卖（GSP）"></a>广义次价拍卖（GSP）</h3><ul>
<li>第i位的广告商支付排在第i+1位的广告商的报价乘广告位i的点击率</li>
<li>分析GSP</li>
<li>说实话不一定形成纳什均衡</li>
<li><p>多重和非最优均衡</p>
<ul>
<li>存在多种均衡出价组合，其中一些均衡形成的广告商和广告位的分配形式并不产生社会最优分配</li>
</ul>
</li>
</ul>
<h3 id="广义次价拍卖的均衡"><a href="#广义次价拍卖的均衡" class="headerlink" title="广义次价拍卖的均衡"></a>广义次价拍卖的均衡</h3><ul>
<li>GSP机制总存在买组社会最优的均衡出价</li>
</ul>
<h3 id="广告质量"><a href="#广告质量" class="headerlink" title="广告质量"></a>广告质量</h3><h3 id="VCG价格从定义上看是个性化价格，但始终都是市场清仓价格"><a href="#VCG价格从定义上看是个性化价格，但始终都是市场清仓价格" class="headerlink" title="VCG价格从定义上看是个性化价格，但始终都是市场清仓价格"></a>VCG价格从定义上看是个性化价格，但始终都是市场清仓价格</h3><p><em>XMind - Trial Version</em></p>
<p></p>
      <div class="post-button"><a class="btn" href="/mengxiao2000.github.io/2021/01/12/market-strategy/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>Read More</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/mengxiao2000.github.io/2020/11/08/gametheory/">《网络、群体与市场——揭示高度互联世界的行为原理与效应机制》第二部分—博弈论</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2020-11-08 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/mengxiao2000.github.io/categories/读书/">读书</a></span>
      <p></p><p><img src="gametheory.png" alt="gametheory"></p>
<p>对《网络、群体与市场——揭示高度互联世界的行为原理与效应机制》中的第二部分内容的简要整理。</p>
<h2 id="博弈"><a href="#博弈" class="headerlink" title="博弈"></a>博弈</h2><h3 id="人们的决策结果不仅取决于他们在不同的备择项之间进行选择，而且取决于与他们互动的其他人所做的选择"><a href="#人们的决策结果不仅取决于他们在不同的备择项之间进行选择，而且取决于与他们互动的其他人所做的选择" class="headerlink" title="人们的决策结果不仅取决于他们在不同的备择项之间进行选择，而且取决于与他们互动的其他人所做的选择"></a>人们的决策结果不仅取决于他们在不同的备择项之间进行选择，而且取决于与他们互动的其他人所做的选择</h3><h3 id="博弈的基本要素"><a href="#博弈的基本要素" class="headerlink" title="博弈的基本要素"></a>博弈的基本要素</h3><ul>
<li>博弈参与人</li>
<li>每个参与人都有一组关于如何行动的备选项</li>
<li>每个策略行为的选择，都会是参与人得到一个受益（回报），收益结果互动中他人策略选择的影响</li>
</ul>
<h3 id="博弈中的行为推理"><a href="#博弈中的行为推理" class="headerlink" title="博弈中的行为推理"></a>博弈中的行为推理</h3><ul>
<li><p>基本假设</p>
<ul>
<li>参与人关心的所有事都表达在自己的回报中</li>
<li>参与人对博弈的结构充分了解</li>
<li>每个人个体策略都为了达到自身收益最大化，并知道其他参与人也会选择收益最大化的策略</li>
</ul>
</li>
<li><p>案例</p>
<ul>
<li>囚徒困境</li>
<li>报告-考试博弈</li>
<li>军备竞赛</li>
</ul>
</li>
</ul>
<h3 id="最佳应对与严格占优策略"><a href="#最佳应对与严格占优策略" class="headerlink" title="最佳应对与严格占优策略"></a>最佳应对与严格占优策略</h3><ul>
<li><p>最佳应对：参与人的最好选择，参与人1用策略S产生的收益大于或等于任何其他决策，则称参与人1的策略S是参与人2的策略T的最佳应对。</p>
<ul>
<li>严格最佳应对：收益严格大于其他选择</li>
</ul>
</li>
<li><p>占优策略：该策略对于参与人2的每一策略都是最佳应对</p>
<ul>
<li>严格最优策略：替换应对为严格最佳应对</li>
</ul>
</li>
<li><p>案例</p>
<ul>
<li>两公司对不同市场的营销策略</li>
</ul>
</li>
</ul>
<h3 id="纳什均衡"><a href="#纳什均衡" class="headerlink" title="纳什均衡"></a>纳什均衡</h3><ul>
<li>即使不存在占优策略，也可以通过参与人彼此策略的最佳应对，来预测参与人的策略选择行为</li>
<li><p>纳什均衡：若S是T的最佳应对，同时T是S的最佳应对，责成策略组（S,T）是一个纳什均衡</p>
<ul>
<li>均衡的观点：假设参与人选择的策略彼此间都是最佳应对，且具有一致性。</li>
</ul>
</li>
<li><p>发现纳什均衡的途径</p>
<ul>
<li>核查所有个体策略集，寻找他们中的每一项是否是彼此间策略的最佳应对策略</li>
<li>计算每个参与人对于对方策略的最佳应对，发现互为最佳应对的策略组。</li>
</ul>
</li>
</ul>
<h3 id="多重均衡：协调博弈"><a href="#多重均衡：协调博弈" class="headerlink" title="多重均衡：协调博弈"></a>多重均衡：协调博弈</h3><ul>
<li>协调博弈：两个参与人的共同目标是在相同策略上的协调。</li>
<li><p>案例</p>
<ul>
<li>PPT还是Keynote</li>
</ul>
</li>
<li><p>基本协调博弈的变形</p>
<ul>
<li>案例：性别战、约定和惯例</li>
<li>不平衡协调博弈</li>
</ul>
</li>
</ul>
<h3 id="多重均衡：鹰鸽博弈"><a href="#多重均衡：鹰鸽博弈" class="headerlink" title="多重均衡：鹰鸽博弈"></a>多重均衡：鹰鸽博弈</h3><ul>
<li>争夺性（鹰）与分享性（鸽）行为：都分享，则收益中等，一方争夺一方分享则收益一高一低，都是争夺则收益很低</li>
<li>案例：懦夫博弈</li>
</ul>
<h3 id="混合策略"><a href="#混合策略" class="headerlink" title="混合策略"></a>混合策略</h3><ul>
<li>不存在纳什均衡的博弈，通过引入随机性来扩大人们选择的策略集，进而对参与人的行为进行预测</li>
<li>一旦考虑了参与人策略选择的随机性，“博弈总会存在均衡”</li>
<li><p>案例</p>
<ul>
<li><p>硬币配对</p>
<ul>
<li>零和博弈</li>
<li>攻防博弈</li>
<li>不存在彼此是最佳配对</li>
</ul>
</li>
</ul>
</li>
<li><p>混合策略</p>
<ul>
<li>每个参与者的策略表现在概率区间[0,1]间的树，设计选项组H和T的混合。</li>
<li>每一个选项为“纯策略”，即非混合</li>
</ul>
</li>
<li><p>混合策略收益</p>
<ul>
<li>若参与人1选择纯策略H，参与人2选择为q的策略，则参与人1的收益期望是（-1）q+1(1-q)=1-2q.</li>
<li>若参与人1选择纯策略T，参与人2选择为q的策略，则参与人1的收益期望是（1）q-1(1-q)=2q-1.</li>
</ul>
</li>
<li><p>混合策略的纳什均衡</p>
<ul>
<li>互为最佳应对的策略：“每个人参与人都应该随机化自己的行为，让对方在两个策略中的取舍无差异。”“无便宜可占”</li>
<li>如果我选择了均衡以外的概率，那对方就就会有所倾向性的选择，会占到我的便宜。</li>
</ul>
</li>
</ul>
<h3 id="混合策略：案例与经验分析"><a href="#混合策略：案例与经验分析" class="headerlink" title="混合策略：案例与经验分析"></a>混合策略：案例与经验分析</h3><ul>
<li><p>案例</p>
<ul>
<li>持球-抛球博弈</li>
<li>罚点球博弈</li>
</ul>
</li>
<li><p>发现所有的纳什均衡</p>
<ul>
<li>博弈中可能同时存在纯策略和混合策略均衡</li>
<li>检查四种纯结果是否存在形成纳什均衡的情形</li>
<li>找到互为最佳应对的混合策略p和q；只有当参与人的两个纯策略收益期望相等时才会随机化。</li>
</ul>
</li>
</ul>
<h3 id="帕累托最优和社会最优"><a href="#帕累托最优和社会最优" class="headerlink" title="帕累托最优和社会最优"></a>帕累托最优和社会最优</h3><ul>
<li><p>帕累托最优</p>
<ul>
<li><p>每个参与者从一个策略集中选择了一个策略，一组策略选择被称为帕累托最优，若不存在其他策略选择使所有参与者得到至少和目前一样高的汇报，且至少有一个参与者会得到严格较高的回报。</p>
<ul>
<li>就是没有另外一组策略选择使得参与者都能增加收益，使得他们能一起“高兴”地转到另外一个策略选择上</li>
</ul>
</li>
</ul>
</li>
<li><p>社会最优</p>
<ul>
<li><p>使参与者的回报之和最大化</p>
<ul>
<li>社会最优一定是帕累托最优，帕累托最优不一定是社会最优</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="非优策略与动态博弈"><a href="#非优策略与动态博弈" class="headerlink" title="非优策略与动态博弈"></a>非优策略与动态博弈</h2><h3 id="多人博弈"><a href="#多人博弈" class="headerlink" title="多人博弈"></a>多人博弈</h3><ul>
<li>一组参与人；每个参与人一组策略；每种可能结果与收益</li>
<li>博弈的一个结果包括所有参与人一次策略选择的集合，每个参与人i都得到收益Pi</li>
<li>参与人i的最佳应对</li>
<li>若一个结果中的每个策略都是其他参与人策略的最佳应对，则称该结果是纳什均衡</li>
</ul>
<h3 id="非优策略及其在策略推理中的应用"><a href="#非优策略及其在策略推理中的应用" class="headerlink" title="非优策略及其在策略推理中的应用"></a>非优策略及其在策略推理中的应用</h3><ul>
<li>一个策略Si被称为严格非优：存在另一个策略Si’，对于其他参与人的任意策略选择都要优于Si</li>
<li><p>严格非优策略的迭代删除法——简化博弈</p>
<ul>
<li>初始博弈中的纳什均衡和经过迭代删除剩下的最终简化博弈的纳什均衡是一致的</li>
</ul>
</li>
<li><p>弱非优策略</p>
<ul>
<li>对一个策略，若存在另外一个策略，其带来的收益在所有情况下都至少一样高，并且存在一种情况会严格的更高，则该策略是弱非优</li>
</ul>
</li>
</ul>
<h3 id="动态博弈"><a href="#动态博弈" class="headerlink" title="动态博弈"></a>动态博弈</h3><ul>
<li>一些参与人先行动，其他参与人观察先行者的行为，然后再决定自己的策略，其中的顺序也是事先规定的。</li>
<li>常规形式与扩展形式（博弈树）</li>
<li><p>动态博弈行为的推理</p>
<ul>
<li>博弈树转为常规形式，在进行博弈前，每个参与人都制定关于博弈的方案，涵盖所有可能的结果</li>
</ul>
</li>
<li><p>案例：市场进入博弈</p>
</li>
<li><p>扩展形式和常规形表示的微妙区别</p>
<ul>
<li>隐藏在扩展形式中的“博弈前的行动”</li>
</ul>
</li>
<li><p>与弱非优策略间的联系</p>
<ul>
<li>弱非优策略进行博弈简化时排除的顺序会影响最后的那组纳什均衡</li>
</ul>
</li>
</ul>
<h2 id="进化博弈论"><a href="#进化博弈论" class="headerlink" title="进化博弈论"></a>进化博弈论</h2><h3 id="许多行为涉及总体中多种生物体的互动，因而任何生物体的成功取决于它和其他生物体间是如何互动的。"><a href="#许多行为涉及总体中多种生物体的互动，因而任何生物体的成功取决于它和其他生物体间是如何互动的。" class="headerlink" title="许多行为涉及总体中多种生物体的互动，因而任何生物体的成功取决于它和其他生物体间是如何互动的。"></a>许多行为涉及总体中多种生物体的互动，因而任何生物体的成功取决于它和其他生物体间是如何互动的。</h3><h3 id="生物体间的互动作用"><a href="#生物体间的互动作用" class="headerlink" title="生物体间的互动作用"></a>生物体间的互动作用</h3><ul>
<li>案例：大甲虫与小甲虫</li>
</ul>
<h3 id="进化稳定策略"><a href="#进化稳定策略" class="headerlink" title="进化稳定策略"></a>进化稳定策略</h3><ul>
<li>种群里一个生物体的适应性是指它和种群中一个随机相遇的生物体互动而得到的预期收益</li>
<li>策略T以x占比侵入策略S，值得是总体中有x占比的生物体采用了策略T</li>
<li>假设一个整数y，当任何其他策略T以x&lt;y程度入侵策略S时，采用测量S的个体的适应性严格高于采用测量T的个体，则称策略S是进化稳定的。</li>
<li><p>进化稳定策略的一般描述</p>
<ul>
<li>（1）a&gt;c或（2）a=c,且b&gt;d则S是进化稳定的</li>
</ul>
</li>
</ul>
<h3 id="进化稳定和纳什均衡间的关系"><a href="#进化稳定和纳什均衡间的关系" class="headerlink" title="进化稳定和纳什均衡间的关系"></a>进化稳定和纳什均衡间的关系</h3><ul>
<li>策略S是进化稳定的，则（S,S）是一个纳什均衡</li>
<li><p>纳什均衡中参与人彼此应对对方的策略都是互动中最佳应对策略</p>
<ul>
<li>个体行为</li>
</ul>
</li>
<li><p>进化稳定概念择假设参与人之间无智力和合作的影响，策略潜藏在基因中</p>
<ul>
<li>基因决定的种群行为</li>
</ul>
</li>
</ul>
<h3 id="进化稳定混合策略"><a href="#进化稳定混合策略" class="headerlink" title="进化稳定混合策略"></a>进化稳定混合策略</h3><ul>
<li>总体一部分采取一种策略，剩余一部分采取另一种策略，如果同一部分中的个体具有相同的适应性，并且入侵则最终会消亡，则存在进化稳定性</li>
<li>个体具有混合策略，如果使用任何其他混合策略的入侵者最终会消亡，则这也就能被认为是一种进化稳定性</li>
<li>解释的问题：两种混合种群模式的博弈，那种混合模式能产生更大的预期收益？</li>
<li>观察统一总体下，不同形式的行为互动，并理解这种互动怎样重塑总体种群的构成。</li>
</ul>
<h2 id="网络流量的博弈论模型"><a href="#网络流量的博弈论模型" class="headerlink" title="网络流量的博弈论模型"></a>网络流量的博弈论模型</h2><h3 id="布雷斯悖论"><a href="#布雷斯悖论" class="headerlink" title="布雷斯悖论"></a>布雷斯悖论</h3><ul>
<li>一个运输网络增加新的资源有时反而会使均衡状态中的性能受损</li>
</ul>
<h3 id="均衡交通的社会成本"><a href="#均衡交通的社会成本" class="headerlink" title="均衡交通的社会成本"></a>均衡交通的社会成本</h3><ul>
<li>一种流量模式的社会成本是所有司机使用这个流量模式时产生的行程时间总和</li>
<li><p>寻找均衡的交通模式</p>
<ul>
<li>利用潜能分析最佳应对过程</li>
</ul>
</li>
<li><p>均衡交通与社会最优的对比</p>
</li>
</ul>
<h2 id="拍卖"><a href="#拍卖" class="headerlink" title="拍卖"></a>拍卖</h2><h3 id="四种拍卖类型"><a href="#四种拍卖类型" class="headerlink" title="四种拍卖类型"></a>四种拍卖类型</h3><ul>
<li>增价拍卖</li>
<li>降价拍卖</li>
<li>首价密封报价拍卖</li>
<li>次价密封报价拍卖</li>
</ul>
<h3 id="不同拍卖形式间的关系"><a href="#不同拍卖形式间的关系" class="headerlink" title="不同拍卖形式间的关系"></a>不同拍卖形式间的关系</h3><ul>
<li><p>降价拍卖和首价拍卖</p>
<ul>
<li>等同</li>
</ul>
</li>
<li><p>增价拍卖和次价拍卖</p>
<ul>
<li>区别在于增价有实时互动</li>
</ul>
</li>
</ul>
<h3 id="次价拍卖"><a href="#次价拍卖" class="headerlink" title="次价拍卖"></a>次价拍卖</h3><ul>
<li>占优策略是选择竞拍价等于估值</li>
</ul>
<h3 id="首价拍卖和其他形式拍卖"><a href="#首价拍卖和其他形式拍卖" class="headerlink" title="首价拍卖和其他形式拍卖"></a>首价拍卖和其他形式拍卖</h3><ul>
<li>稍微降低出价（比估值）能得到正值回报</li>
<li>全支付拍卖</li>
</ul>
<h3 id="公共价值和赢家诅咒"><a href="#公共价值和赢家诅咒" class="headerlink" title="公共价值和赢家诅咒"></a>公共价值和赢家诅咒</h3><ul>
<li>赢家的估值可能过高导致亏本</li>
</ul>
<h3 id="首价和全支付拍卖中的出价策略"><a href="#首价和全支付拍卖中的出价策略" class="headerlink" title="首价和全支付拍卖中的出价策略"></a>首价和全支付拍卖中的出价策略</h3><ul>
<li><p>首价拍卖中的均衡出价</p>
<ul>
<li>一个均衡策略意味着对每一个竞拍者i而言，假如其他竞争者也用策略s(~)，则i就没有偏离s(~)的动机</li>
</ul>
</li>
<li><p>推导策略函数</p>
<ul>
<li>微分方程</li>
</ul>
</li>
<li><p>有很多竞拍者的均衡</p>
</li>
<li>一般分布</li>
<li><p>卖方收入</p>
<ul>
<li><p>均衡状态下首价次价拍卖收入等同</p>
<ul>
<li>竞拍者采用均衡策略时“收入等价”</li>
</ul>
</li>
</ul>
</li>
<li><p>底价</p>
<ul>
<li>最优底价是商品估值和竞拍者的最大可能的中间值</li>
</ul>
</li>
<li><p>全支付拍卖中的均衡出价</p>
<ul>
<li>竞拍人数增加，竞拍者应大大减少出价</li>
<li>证明类似上面</li>
</ul>
</li>
</ul>
<p><em>XMind: ZEN - Trial Version</em></p>
<p>博弈这个视角很有意思，看完感觉各种东西都能套一套，但是总有一种潜在的理性人假定，有点太“直”了吧。可能在经济或者一些宏观层面上很适用，但是在意见市场或者信息沟通中，情况似乎复杂很多，比如收益判断的尺度就比较难衡量，是不是需要考虑不懂博弈规则的人如何入场参与，收益如何判定，多种博弈同时存在的情况等。</p>
<p></p>
      <div class="post-button"><a class="btn" href="/mengxiao2000.github.io/2020/11/08/gametheory/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>Read More</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/mengxiao2000.github.io/2020/10/03/socialconstruction/">《现实社会的建构》与《技术垄断》：人文主义偏向的社会研究</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2020-10-03 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/mengxiao2000.github.io/categories/读书/">读书</a></span>
      <p></p><p>《现实社会的建构》与《技术垄断》：人文主义偏向的社会研究</p>
<p>很久没有时间静下心来把所看所想写下来，一方面是觉得以自己现在的水平实在难以写多么深刻，但另一方面又害怕猴子掰玉米似的阅读过程，因此还是记一下最近读的两本书，语言非常平实和有趣。之所以把《现实社会的建构》和《技术垄断》放在一起，源于两本书对社会学或传播学的人文主义属性异口同声的强调，对我产生了较大冲击。</p>
<p>《现实生活的建构：知识社会学论纲》这本书由彼得·伯格和托马斯·卢克曼所著，“吹响了20世纪后半期西方思想界‘社会建构主义’的号角”，这本书主要讲了被人熟知的“社会化”过程，知识社会学把人类现实理解为社会建构的过程。此书的核心观点是：<strong>社会是由外化、客体化和内化三个步骤所组成的辩证过程。</strong>社会是人的产物，社会是客观现实，人是社会的产物。在细节上，此书指出社会的<strong>外化</strong>依靠知识来实现<strong>正当化</strong>，正当化形式由低到高可包括语言、谚语、道德准则、理论、象征世界，面对挑战时，象征世界具有<strong>维护装置</strong>，维护方法有：<strong>治疗和虚无</strong>；客观的社会现实形成后，通过<strong>初级社会化</strong>、<strong>次级社会化</strong>的来实现个体的内化，使个体成为社会的一员，借助初级社会化，儿童实现对<strong>概化他人</strong>的认同，借助次级社会化获取角色的专属知识，除此之外，个人还有进行<strong>再社会化</strong>的可能。</p>
<p>一些摘录：</p>
<blockquote>
<p>借助于语言和以语言为基础的认知工具，知识将世界客体化了。有关社会的知识可被理解为一种“实现”，它具有两层含义：一是客体化的社会现实被理解了，二是这一现实被不断生产出来。（p87)</p>
</blockquote>
<blockquote>
<p>制度化的行为越多，就越可以预测和控制人们的行为。</p>
</blockquote>
<blockquote>
<p>社会的知识库由普遍知识与特定角色的专属知识两部分组成。</p>
<p>从制度秩序的视角来看，角色是客观累积起来的制度化知识的表征和中转者；从角色的视角看，每个角色都带有社会定义的附属知识。</p>
</blockquote>
<blockquote>
<p>对活动的社会引导乃是制度化的本质，而制度化是现实的社会建构的基础。(p225)</p>
</blockquote>
<p>《技术垄断：文化向技术投降》与《童年的消逝》、《娱乐至死》并称为尼尔·波斯曼的“媒介批评三部曲”，尼尔·波斯曼是媒介环境学派的第二代学者，在这本书中，波斯曼提出了文化的三种形态：<strong>工具使用文化</strong>阶段，技术服务、从属于文化；<strong>技术统治文化</strong>阶段，技术向文化发起攻击，并试图取而代之；<strong>技术垄断文化</strong>阶段，技术使信息泛滥成灾，使传统世界观消失，技术垄断重新界定宗教、艺术、家庭等的意义，使这些定义服从技术要求，技术垄断就是极权主义的技术统治。</p>
<p>作者以美国为背景进行分析，他指出了技术带来的危险，包括失去控制机制的信息过剩，以民意测验、智力测验以及各种专家的方式对社会生活实施侵犯；作者通过医疗技术垄断来鲜明的论证了这种机器意识形态，技术重构了医患关系。计算机深化了人的机器隐喻，并被奉为圭臬。各种形式的技术尽管是由人所创造的，但我们似乎逐渐忽略了这种因果关系，而把技术垄断作为我们的生存条件。作者主要攻击了对科学趋之若鹜的<strong>“社会科学家”</strong>，“和科学不一样，社会研究从来不发现任何东西。它只是重新发现人们过去知道、现在需要重述的东西。”<strong>“唯科学主义”</strong>相信，某种标准化的程序即“科学”能够提供一种无懈可击的道德权威的源泉，一种超人的基础，但科学其实是不能回答这些问题的。</p>
<p>较为有趣的是作者在第十章《符号大流失》这一章节强调了技术垄断时代符号的委琐化现象，“符号使用得越频繁，符号的意义就越是削弱。”技术垄断与商业资本主义的合谋下，符号被去情境的、无节制的使用，这或许可以看作技术垄断冲击传统秩序的方式。</p>
<p>一句摘录：</p>
<blockquote>
<p>科学表述和非科学表述的区别是，社会表述可以经受证伪的考验。科学之所以能够成立，并不是我们有能力辨认“真理”，而是我们有能力辨认谬误。</p>
</blockquote>
<p>尽管这两本书来自不同学科视野，却具有一定的互相补充作用，《技术垄断》所论述的技术垄断的形成过程其实可以完美的嵌入到社会建构主义的理论解释框架之中，并映射到现实语境之中。技术垄断是作为一种观念的技术被正当化和制度化的过程，挑战了旧有的人文主义秩序，技术的内化也是人被异化的过程。此类著作往往通过分析抛出了一系列有趣的问题，或许可以看做生产知识建构现实的过程，但很少就问题提出具体解决方案。</p>
<p>显而易见的是，两位作者都对社会研究或未来具有强烈的价值判断，他们强调社会研究的人文主义属性，这个问题也是最近某同学和我辩论的话题，社会研究处于文学和科学之间的尴尬位置，这不应是一个对错问题；以计算、数据、统计为代表的实证主义在这两本书中显得视野是如此狭小逼仄，人文主义以其历史的宽广胸襟将其包裹，让我几乎对意义产生了怀疑。仅依靠数据是不能解决问题的，统计分析的结果似乎以目标和效率为导向，预测本身就带有控制色彩和保守主义倾向，所以往往和科学管理联系紧密， 如果仅仅是帮助我们认识现实的话，历史的和人文的情境不应该被忽略，要放宽问题的视野。在技术垄断已成为背景的今天，人文的光彩或许需要依靠技术来实现吧。应该看点别的书，不然被套在里面了。</p>
<p></p>
      <div class="post-button"><a class="btn" href="/mengxiao2000.github.io/2020/10/03/socialconstruction/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>Read More</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/mengxiao2000.github.io/2020/05/18/jisuanchuanbo/">《计算传播学导论》阅读</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2020-05-18 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/mengxiao2000.github.io/categories/计算传播/">计算传播</a></span>
      <p></p><h1 id="《计算传播学导论》阅读"><a href="#《计算传播学导论》阅读" class="headerlink" title="《计算传播学导论》阅读"></a>《计算传播学导论》阅读</h1><blockquote>
<p>2019年10月读</p>
</blockquote>
<p>此书分为八章，分别为<em>导论、文本分析、情感分析、语义建模、网络传播与传播网络、网络传播模型与机器学习框架、数据新闻、计算广告。</em>除了网络传播与传播网络、计算广告等部分，其它部分在阅读前我已有些许涉猎或实践。它把数据科学、网络科学等技术和思维同传播学研究相结合，一定程度上解决了我的“机器学习/深度学习更倾向于应用领域，可解释性差，不能用于科研“等类似的困惑。相较于此前见到的一些描述数据与传播关系的书籍，这本书结构清晰明了，内容充实，总结了理论的缘由，而且目前国内这种著作也并不是很多，因而对于我这种入门者和初学者意义非常，较为遗憾的地方是对深度学习提及较少。</p>
<p>因为封面和纸张的手感很好，图片也解释很清楚，所以读得很快，大概用了八九天，整理此篇笔记又用了好多天，后面又对书中案例进行了尝试。</p>
<p>下面是我对书中部分内容的摘录：</p>
<h3 id="第一章-导论"><a href="#第一章-导论" class="headerlink" title="第一章 导论"></a>第一章 导论</h3><ul>
<li>计算传播的定义：计算传播学致力于寻找传播学可视化的基因，以传播网络分析、传播文本挖掘、数据科学等为主要分析工具，大规模地收集并分析人类传播行为数据，挖掘人类传播行为背后的模式和法则，分析模式背后的生成机制与基本原理。</li>
</ul>
<h3 id="第二章-文本分析简介"><a href="#第二章-文本分析简介" class="headerlink" title="第二章 文本分析简介"></a>第二章 文本分析简介</h3><ul>
<li>常用的文本挖掘技术：文本分类、文本聚类、关联分析、趋势预测。</li>
<li>文本分析与传播学研究：情感的传染、个体情感变化规律、文本特征提取、文本与社会文化变迁、利用文本进行个体行为预测、表示学习等</li>
<li>基本步骤：语词切割、去停用词、标准化（词干提取/词形还原）、词性标注、构建语词-文档矩阵（TF-IDF）</li>
<li>python库：NLTK、Textmining、Gensim和Lda、JiebaR、补充中文文本内容处理库SnowNLP</li>
</ul>
<h3 id="第三章-情感分析"><a href="#第三章-情感分析" class="headerlink" title="第三章 情感分析"></a>第三章 情感分析</h3><ul>
<li>情感分析内容五元组：第一、意见对象，第二、具体层面、特点，第三、情感倾向，第四、意见主题，第五、时间</li>
<li>情感分析是用来探究人们对于事件、话题、产品、服务等对象的态度</li>
<li>情感分析实现途径：1、人工标注，2、利用情感词典匹配，3、利用语词共生网络关系对情感倾向进行推断</li>
<li>与传播学联系：用户评价与口碑营销、社会化媒体虚假信息判定、社会化媒体情绪刻画与情绪传播</li>
<li>python实现：Textblob、Snownlp</li>
<li>基本算法：</li>
</ul>
<ol>
<li>语词的情感倾向判定：点式互信息方法PMI（比较两个词语共同出现的概率与其独自出现的概率，从而判定两个的出现是否是独立事件。）<br>词汇的PMI指数计算：PMI（x=olympic，y=happy）-PMI（x=olympic，y=disgust）=0.46</li>
<li>句子的情感分析-基于词典匹配：预处理，载入情感词典判定情感极性，判定否定词与程度副词，计算得分，加总</li>
<li>句子的情感分析-有监督学习：特征提取（互信息算法（词语与类别的互信息）、卡方算法（词语与词语出现期望，与类别独立的假设检验））、朴素贝叶斯算法</li>
</ol>
<h3 id="第四章-语义建模"><a href="#第四章-语义建模" class="headerlink" title="第四章 语义建模"></a>第四章 语义建模</h3><ul>
<li>语义建模与传播学研究：“框架理论”与语义建模的结合：公共事件的话语框架是指关于社会事件有组织的中心观点和诠释架构。框架建构是个人组织、阐释事件的主观过程，即参与个体通过对信息的选择与解读，突出强调事件的某些特征，从而1.定义事件；2.判定事件因果关系；3.提出事件解决方案。归纳为三种研究路径：1.强调个体认知效果，人们如何运用信息形成对事件的印象；2.强调框架构建参与者行为；3.对话语框架内容的研究，社会文化共振、关涉群体活动以及媒介实践是公共事件话语框架内容的主要决定因素。</li>
<li>LDA（Latent Dirichlet Allocation）是一种文档主题生成模型，也称为一个三层贝叶斯概率模型，包含词、主题和文档三层结构。所谓生成模型，就是说，我们认为一篇文章的每个词都是通过“以一定概率选择了某个主题，并从这个主题中以一定概率选择某个词语”这样一个过程得到。文档到主题服从多项式分布，主题到词服从多项式分布。LDA优势在于能够在没有基本话题预设的基础上，从文本抽取出主题。缺陷在于无法有效验证准确性。<br>理解参考（<a href="https://blog.csdn.net/tozhangning/article/details/80642519）" target="_blank" rel="noopener">https://blog.csdn.net/tozhangning/article/details/80642519）</a><br>实现：Gensim</li>
<li>有监督机器学习分类算法：sickit-learn实现；六个模块：分类、回归、聚类、降维、模型选择、预处理。</li>
</ul>
<h3 id="网络传播与传播网络"><a href="#网络传播与传播网络" class="headerlink" title="网络传播与传播网络"></a>网络传播与传播网络</h3><ul>
<li>热点研究问题：用户传播能力度量与意见领袖发现、传播最大化、信息流行度预测、用户传播行为预测、传播路径预测与重构。</li>
<li>社会网络的拓扑结构特征：<ol>
<li>节点的度特征：节点的度、网络平均度（2n/m）、网络密度（2n/m（m-1））、节点的度分布（幂率分布）</li>
<li>匹配特性：复杂网络中不同度的节点间的连边存在情况；匹配系数（r大于0，同配，r小于0异配）；网络中邻居节点的平均度与节点度的相关性。</li>
<li>聚类系数：衡量网络中节点集团化的一个系数。全局聚类系数（聚类系数、三角形、三点组、所有节点聚类系数平均值0～1，=1表示全部连接）；局部聚类系数（该节点与邻居节点的集团性质）</li>
<li>平均最短距离长度：所有节点间最短距离的平均值，衡量是否是“小世界网络”</li>
<li>小世界网络特性：网络既具有较大的聚类系数又具有较短的平均距离。（复杂传播、信息扩散阈值模型）</li>
<li>富人俱乐部特性：节点度很大、数量很少的富节点倾向于彼此之间相互连接。（富人俱乐部系数）</li>
<li>弱链接与强链接：强链接消费更多同质性信息，弱链接消费差异化信息，有利于信息扩散。</li>
</ol>
</li>
<li>传播网络的拓扑结构统计量：<ol>
<li>传播的高度和宽度：根节点到子节点的最大跳数；各深度阶上节点数量的最大值。多数信息高度很小。</li>
<li>传播的规模与扩散率：少数信息的扩散规模特别大，多数信息的扩散规模有限；扩散率可化了用户传播某一条信息的程度（转发数量/扩散规模）</li>
<li>级连率：刻画了一个用户在多大程度上影响他的好友（跟随用户u转发/总转发）</li>
<li>结构性病毒式传播特征：主要考察某些无法观测到的生成机制引起的可观察到的模型结构上独有的特征。</li>
</ol>
</li>
<li>社会网络和传播网络之间的结构相关性：<ol>
<li>多层耦合网络</li>
<li>双层网络链接整体相关性的统计量：网络对应长向量的皮尔逊相关系数；网络对长向量的互信息；整体堆叠程度；局部堆叠程度</li>
</ol>
</li>
<li>传播加权网络的多维度测量：<ol>
<li>节点强度</li>
<li>边权重与网络拓扑结构的相关性</li>
<li>加权网络中的权匹配特性：加权匹配系数、邻居节点的加权平均度</li>
<li>加权平均最短距离长度（Dijkstra）</li>
<li>加权聚类系数：全局、局部</li>
<li>加权富人俱乐部特性：考虑权重、加权富人俱乐部系数：连接权重最大的边是否存在于强度最大的节点之间</li>
</ol>
</li>
<li>传播时效网络：增加时间维度<ol>
<li>接触序列、区间图</li>
<li>爆发性：峰值时间、峰值比率（峰值/扩散规模）、变异系数（标准差/均值， 扩散曲线稳定程度）</li>
<li>衰减时间（峰值时间～扩散规模75%的时间）</li>
<li>持续性：利用早期扩散数据预测在线内容流行度</li>
<li>传播速度</li>
<li>时效中心性： 时效度中心性（节点的重要性）、时效度接近中心性、时效介数中心性（介数偏好性）</li>
</ol>
</li>
</ul>
<h3 id="第六章-网络传播模型与机器学习框架"><a href="#第六章-网络传播模型与机器学习框架" class="headerlink" title="第六章 网络传播模型与机器学习框架"></a>第六章 网络传播模型与机器学习框架</h3><ul>
<li>在计算传播学的研究背景下，基于机器学习的信息传播分析将是主流的研究范式。</li>
<li>信息传播模型：<ol>
<li>创新扩散模型： 罗杰斯，一个新技术在社会系统中扩散需要四个必要条件：创新、传播渠道、时间以及社会系统。五类采纳者：创新者、早期采纳者、早期大多采纳者、晚期大多采纳者以及拖后腿者。意见领袖的特点：1.参与更多外界沟通；2.更国际化；3.更高的社会地位；4.更具创新性；5.具有结构化优势，处于人际网络中的中心位置。</li>
<li>传染病模型：种群内的个体状态：易染状态S、感染状态I、移除状态R。基本传染病模型：SI、SIS、SIR</li>
<li>阈值模型：假设每个人在决定参与某一活动时，都要跨过一个门槛，这个门槛的存在是由行为成本和收益的大小决定。</li>
<li>级联模型：当一个个体扁的活跃后，会以一定的概率激活它邻居中的每一个不活跃的个体。</li>
<li>分支过程模型：一个信息源将信息发给好友，这些好友又发给他们的好友。基本再生数R0=pk，信息扩散与传播意愿p和网络结构k有关。</li>
</ol>
</li>
<li>信息传播的机器学习分析框架：<ol>
<li>四个步骤：数据获取、预处理、特征工程、特征选择与评价标准。</li>
<li>分析某个话题扩散主要有两种方式：1.描述某个主题下所有信息的扩散情况；2.分析一条信息完整的扩散过程、分析影响信息传播的各种因素。</li>
</ol>
</li>
<li>影响信息传播的其他因素：<ol>
<li>用户地理位置</li>
<li>信息自身属性</li>
<li>用户属性</li>
<li>用户间的趋同性</li>
<li>用户活跃时间</li>
</ol>
</li>
<li>特征选择方法：从原始特征集中选择能使某种评价指标最优的特征子集<ol>
<li>特征选择方法大致可分为过滤法（依靠数据内在属性评估特征的相关性，如皮尔逊相关系数、互信息等）和封装法（将模型假设搜索加入到特征选择过程，以分类器的预测效果为引导）。</li>
<li>基于XGBoost模型的特征排序：梯度提升机，不需要做特征的归一化，可以自动进行特征选择，可解释性好。特征评分可以看成被用来分离决策树的次数，评分越高，特征越重要。</li>
<li>基于最大信息系数的特征相关性分析：Pearson相关系数、最大信息系数MIC<em>（？）</em>相关系数（可判断函数关系或非函数关系、普适性、公平性、对称性）</li>
</ol>
</li>
<li>信息传播的机器学习评价指标：<ol>
<li>分类问题：混淆矩阵、准确率、召回率、F1值、精度</li>
<li>回归问题的评价指标：MSE、RMSE、MAE平均绝对百分比误差MAPE（微博转发量差异大可用</li>
</ol>
</li>
<li>基于实证数据的信息流行度预测：<ol>
<li>结构特征 XGBoost、MIC     </li>
<li>文本特征对信息流行度的影响： XGBoost、MIC</li>
<li>预测：XGBoost</li>
</ol>
</li>
</ul>
<h3 id="第七章-数据新闻"><a href="#第七章-数据新闻" class="headerlink" title="第七章 数据新闻"></a>第七章 数据新闻</h3><h4 id="复盘"><a href="#复盘" class="headerlink" title="复盘"></a>复盘</h4><blockquote>
<p>阅读此章节后，引发许多思考，有些后悔没有早点接触此书，导致第一个数据新闻作品沦为“四不像”的境地。在此对之前数据新闻作业再次进行复盘：<br>1、选题上：没有做到<em>数据驱动</em>、没有获得一手数据；因而没有提炼出一个数据特征为导向的主题，反而是先定性已经发生的事件，然后从数据中找依据，数据的作用旁落。<br>2、内容设计上：今天才发觉一个致命点，数据的前提是提供“新闻”，提供知识，而知识是客观的一种经验，数据新闻的突出特点是客观真实，我们却在设计中<em>通过拟人化编制了一个故事，损坏了新闻的客观性忽略了数据新闻的新闻本质。</em>如果从一个信息接收者角度讲，这种有点像虚构写作的内容，提供的信息可信度能有多少？反而更像是无良小编的恶意炒作。因此文字应该以数据为中心进行解释。<br>3、界面制作上：<em>整洁简约、突出关键数据</em>应该是第一要务，交互虽然能提升用户体验但是不能滥用，应是作为点睛之笔进行突出，这也和最近的新媒体营销课的内容有共通之处，形式与新技术的运用固然是有趣的，但是并不能给人留下深刻印象，甚至给人花里胡哨之感，关键仍是从数据中提炼出足够具有区分度和现实意义的内容主题，并在界面中对主题进行突出。<br>4、可视化设计上：设计美感很重要，要提前进行整体的宏观美工设计、颜色搭配、元素样式等等，再进行微观设计，二者要协调，要求要有良好的沟通。<br>5、代码：在有整体设计图的情况下进行网页等代码制作，借助框架减少代码量，提升易读性。a、、我的前端代码真是trashy。<br>6、多种人力和工作的整合：需要一条规范完整的生产线，不要崇拜技术，设计、审美、技术、批判、想象都很重要。</p>
<ul>
<li>数据新闻强调批判思维、计算思维、可视化思维三种能力的结合。（“知识”和“艺术”）</li>
<li>理论源流：以计算驱动的新闻报道；以可视化驱动的新闻报道。“不应该忘记数据叙事的根本目的在于提供新的知识，增进公众对于社会现实的理解，促进机体的智慧。如果仅停留在讲故事层面，数据新闻与其他新闻形式就没有本质的区别。”</li>
<li>南丁格尔玫瑰图、安斯库姆数据，可视化对统计分析的重要性</li>
<li>图像的曲解：撒谎因子=图像中呈现的效果值/数据中的效果值</li>
<li>探索可视化（数据分析）和解释可视化（视觉呈现）</li>
<li>塔夫特提出好的可视化应展现九个方面的事情：1、展现数据；2、引导读者思考数据；3、避免歪曲数据所表达的内容；4、使用有限的空间尽可能展现尽量多的数字；5、保持大数据集的一致性；6、鼓励验证比较数据中的不同部分；7、从整体到精细结构；8、服务于一个明确的目的；9、数据可视化要解惑对于数据的统计描述和文字描述。</li>
<li><em>制作流程：1、确定数据新闻选题；2、数据的收集和掌握；3、数据的分析和解读；4、数据新闻的写作与可视化呈现。</em>核心是数据驱动，原因：重大新闻选题需要具有高质量的数据支撑才能更好的实现；有一部分数据新闻的选题是在探索数据的过程中产生的。</li>
<li>对于可视化为主的数据新闻生产而言，更加强调可视化的设计过程，由设计师、编辑、数据分析师三方协同完成。</li>
</ul>
</blockquote>
<h3 id="第八章-计算广告"><a href="#第八章-计算广告" class="headerlink" title="第八章 计算广告"></a>第八章 计算广告</h3><ul>
<li>计算广告的核心调整在于找到一个特定的媒体情景下一个特定的用户和一个适合的广告之间的最佳匹配。</li>
<li>企业营销战略的四个部分（4P）：产品、价格、渠道、促销。</li>
<li>互联网广告的投放过程包括四步：一是建立离线模型。二是实时监控。三是精准投放。四是等待用户点击然后获利。</li>
<li>广告分为四种类型：合约广告、竞价广告（竞价拍卖、搜索广告）、程序化交易广告（实时竞价）、原生广告。</li>
<li>优化目标：收入成本差，依据不同自变量而调整。</li>
<li>计算广告市场的博弈、拍卖与分配：<ol>
<li>博弈的三个基本要素：参与人、策略和收益</li>
<li>收益矩阵、纳什均衡/收益均衡 、占优策略、帕累托最优（找不到一组博弈策略使得不减少任何人收益的情况下增加至少一个人的收益，社会最优一定是帕累托最优，帕累托最优未必是社会最优）</li>
<li>拍卖：公开拍卖：增价拍卖（英式拍卖）、降价拍卖（荷兰式拍卖）；密封拍卖：首家密封拍卖、次价密封拍卖（维克瑞拍卖）</li>
<li>匹配：二部图；完美匹配：每个广告位都可以对应一个广告主；受限组；清仓价格；匈牙利算法（逐步提高受限组的广告位价格来实现最优分配）</li>
</ol>
</li>
<li>计算广告市场中的拍卖机制设计：鼓励真是报价；维克瑞-克拉夫-格罗夫VCG（出价为一个人的行为给别人造成的损失价格）拍卖和广义次价拍卖GSP（次价收费）</li>
<li>广告位估价=点击率CTR*广告主网站点击价值CV</li>
<li>广义首价拍卖：估价排序</li>
</ul>
<ul>
<li>完成=昏厥</li>
</ul>
<p></p>
      <div class="post-button"><a class="btn" href="/mengxiao2000.github.io/2020/05/18/jisuanchuanbo/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>Read More</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/mengxiao2000.github.io/2020/04/23/weibo-topic/">新浪微博话题下微博采集</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2020-04-23</span>
      <p></p><h1 id="新浪微博话题下微博采集"><a href="#新浪微博话题下微博采集" class="headerlink" title="新浪微博话题下微博采集"></a>新浪微博话题下微博采集</h1><p><u>Typora</u>这个Markdown编辑器过于简洁大方。另，第三方采集器有些鸡肋。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"><span class="keyword">import</span> xlwt</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<h2 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#开始采集</span></span><br><span class="line">data_ = []</span><br><span class="line">url = <span class="string">'https://s.weibo.com/weibo?q=%23%E4%B8%96%E7%95%8C%E5%9C%B0%E7%90%83%E6%97%A5%23&amp;page='</span></span><br><span class="line">error = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">60</span>):</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        page = i + <span class="number">1</span></span><br><span class="line">        print(<span class="string">'正在获取第'</span>,page,<span class="string">'页'</span>)</span><br><span class="line">        weibos = get_page_weibos(url,page)</span><br><span class="line">        weibo_getinfo(weibos)</span><br><span class="line">        time.sleep(<span class="number">10</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        error += <span class="number">1</span></span><br><span class="line">        print(<span class="string">'error!'</span>)</span><br><span class="line">        <span class="keyword">if</span> error &gt; <span class="number">5</span>:</span><br><span class="line">            print(<span class="string">'错误大于5次退出采集'</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">print(<span class="string">'采集完成'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="读取单页微博"><a href="#读取单页微博" class="headerlink" title="读取单页微博"></a>读取单页微博</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取单页微博</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_page_weibos</span><span class="params">(url,page)</span>:</span></span><br><span class="line">    <span class="comment">#url = 'https://s.weibo.com/weibo?q=%23毕业前最后一次寝室夜谈%23&amp;page='</span></span><br><span class="line">    url = url + str(page)</span><br><span class="line">    headers = &#123;</span><br><span class="line">            <span class="string">'Accept'</span>: 		<span class="string">'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8'</span></span><br><span class="line">            , <span class="string">'Accept-Encoding'</span>: <span class="string">'gzip, deflate, sdch'</span></span><br><span class="line">            , <span class="string">'Accept-Language'</span>: <span class="string">'zh-CN,zh;q=0.8'</span></span><br><span class="line">            , <span class="string">'Cache-Control'</span>: <span class="string">'max-age=0'</span></span><br><span class="line">            , <span class="string">'Connection'</span>: <span class="string">'keep-alive'</span></span><br><span class="line">            , <span class="string">'Content-Type'</span>:<span class="string">'text/html;charset=utf-8'</span></span><br><span class="line">            ,<span class="string">'Cookie'</span>: 你的cookie</span><br><span class="line">            , <span class="string">'Host'</span>: <span class="string">'s.weibo.com'</span></span><br><span class="line">            , <span class="string">'Referer'</span>: url</span><br><span class="line">            , <span class="string">'Upgrade-Insecure-Requests'</span>: <span class="string">'1'</span></span><br><span class="line">            ,</span><br><span class="line">            <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.100 Safari/537.36'</span></span><br><span class="line">    &#125;</span><br><span class="line">    response = requests.get(url, headers=headers)</span><br><span class="line">    </span><br><span class="line">    soup = BeautifulSoup(response.text,<span class="string">'lxml'</span>)</span><br><span class="line">    weibos = soup.find_all(<span class="string">'div'</span>,class_=<span class="string">'card-wrap'</span>)</span><br><span class="line">    <span class="comment">#print(weibos[1])</span></span><br><span class="line">    <span class="keyword">return</span> weibos</span><br></pre></td></tr></table></figure>
<h2 id="时间戳处理"><a href="#时间戳处理" class="headerlink" title="时间戳处理"></a>时间戳处理</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> timedelta</span><br><span class="line"><span class="comment">#微博时间戳处理</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">time_transform</span><span class="params">(publish_time)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="string">"刚刚"</span> <span class="keyword">in</span> publish_time:</span><br><span class="line">        publish_time = datetime.now().strftime(<span class="string">'%Y-%m-%d %H:%M'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> <span class="string">"分钟"</span> <span class="keyword">in</span> publish_time:</span><br><span class="line">        minute = publish_time[:publish_time.find(<span class="string">"分钟"</span>)]</span><br><span class="line">        minute = timedelta(minutes=int(minute))</span><br><span class="line">        publish_time = (</span><br><span class="line">            datetime.now() - minute).strftime(</span><br><span class="line">            <span class="string">"%Y-%m-%d %H:%M"</span>)</span><br><span class="line">    <span class="keyword">elif</span> <span class="string">"今天"</span> <span class="keyword">in</span> publish_time:</span><br><span class="line">        today = datetime.now().strftime(<span class="string">"%Y-%m-%d"</span>)</span><br><span class="line">        time = publish_time.replace(<span class="string">'今天'</span>,<span class="string">''</span>)</span><br><span class="line">        publish_time = today + <span class="string">" "</span> + time</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> <span class="string">"月"</span> <span class="keyword">in</span> publish_time:</span><br><span class="line">        year = datetime.now().strftime(<span class="string">"%Y"</span>)</span><br><span class="line">        publish_time = str(publish_time)</span><br><span class="line">        <span class="comment">#print(publish_time)</span></span><br><span class="line"></span><br><span class="line">        publish_time = year + <span class="string">"-"</span> +publish_time.replace(<span class="string">'月'</span>,<span class="string">'-'</span>).replace(<span class="string">'日'</span>,<span class="string">''</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        publish_time = publish_time[:<span class="number">16</span>]</span><br><span class="line">    <span class="keyword">return</span> publish_time</span><br></pre></td></tr></table></figure>
<h2 id="解析单页微博"><a href="#解析单页微博" class="headerlink" title="解析单页微博"></a>解析单页微博</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#解析单页微博</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">weibo_getinfo</span><span class="params">(weibos)</span>:</span></span><br><span class="line">    print(len(weibos))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(weibos)):</span><br><span class="line">        <span class="comment">#print(weibos[i])</span></span><br><span class="line">        <span class="comment">#print('---------------------------------------------------------')</span></span><br><span class="line"><span class="comment">#         if len(weibos[i].find_all('strong')) &gt; 0:</span></span><br><span class="line"><span class="comment">#             continue</span></span><br><span class="line">        <span class="comment">#print(len(weibos[i].find_all('div',class_='card-act')))</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">#判断</span></span><br><span class="line">        weibo = weibos[i].find(<span class="string">'div'</span>,class_=<span class="string">'card'</span>)</span><br><span class="line">        <span class="keyword">if</span> len(weibos[i].find_all(<span class="string">'div'</span>,class_=<span class="string">'card-act'</span>)) &lt; <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="comment">#mid</span></span><br><span class="line">        mid =  weibos[i][<span class="string">'mid'</span>]</span><br><span class="line">        <span class="comment">#昵称</span></span><br><span class="line">        name =  weibo.find(<span class="string">'a'</span>,class_=<span class="string">'name'</span>).get_text()</span><br><span class="line">        <span class="comment">#内容</span></span><br><span class="line">        content = weibo.find_all(<span class="string">'p'</span>, class_=<span class="string">'txt'</span>)</span><br><span class="line">        content = content[<span class="number">1</span>].get_text() <span class="keyword">if</span> len(content) &gt; <span class="number">1</span> <span class="keyword">else</span> content[<span class="number">0</span>].get_text()</span><br><span class="line">        content = content.strip()</span><br><span class="line">        </span><br><span class="line">        <span class="comment">#时间</span></span><br><span class="line">        ptime = weibo.find(<span class="string">'p'</span>, class_=<span class="string">'from'</span>).get_text().split(<span class="string">'来自'</span>)[<span class="number">0</span>].split(<span class="string">'转赞'</span>)[<span class="number">0</span>].strip()</span><br><span class="line">        <span class="comment">#print(ptime)</span></span><br><span class="line">        ptime = str(time_transform(ptime))</span><br><span class="line">        <span class="comment">#图片与视频</span></span><br><span class="line">        image = weibo.find(<span class="string">'div'</span>, class_=<span class="string">'media media-piclist'</span>)</span><br><span class="line">        video = weibo.find(<span class="string">'div'</span>, class_=<span class="string">'media media-video-a'</span>)</span><br><span class="line">        <span class="keyword">if</span> image != <span class="literal">None</span>:</span><br><span class="line">            image_num = len(image.find_all(<span class="string">'img'</span>))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            image_num = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> video != <span class="literal">None</span>:</span><br><span class="line">            <span class="comment">#print(video)</span></span><br><span class="line">            video_num = <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            video_num = <span class="number">0</span></span><br><span class="line">        <span class="comment">#互动信息</span></span><br><span class="line">        inter_info = weibo.find(<span class="string">'div'</span>,class_=<span class="string">'card-act'</span>).find_all(<span class="string">'a'</span>)</span><br><span class="line">        inter_info =  [re.findall(<span class="string">r'\d+'</span>,item.get_text()) <span class="keyword">for</span> item <span class="keyword">in</span> inter_info[<span class="number">1</span>:<span class="number">4</span>] ] </span><br><span class="line">        inter_ = []</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> info <span class="keyword">in</span> inter_info:</span><br><span class="line">            <span class="keyword">if</span> info == []:</span><br><span class="line">                inter_.append(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                inter_.append(int(info[<span class="number">0</span>]))</span><br><span class="line">        new = [mid, name, content, ptime ,image_num, video_num, inter_[<span class="number">0</span>], inter_[<span class="number">1</span>], inter_[<span class="number">2</span>]]</span><br><span class="line">        <span class="comment">#print(new)</span></span><br><span class="line">        data_.append(new)</span><br><span class="line">        <span class="comment">#print(len(data_))</span></span><br></pre></td></tr></table></figure><p></p>
      <div class="post-button"><a class="btn" href="/mengxiao2000.github.io/2020/04/23/weibo-topic/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>Read More</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/mengxiao2000.github.io/2020/04/08/ggplot2/">ggplot22学习</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2020-04-08 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/mengxiao2000.github.io/categories/R-ggplot2/">R, ggplot2</a></span>
      <p></p><p><strong>非常细致的使用介绍</strong><a href="https://www.jianshu.com/p/07f7931a00db?utm_campaign=haruki" target="_blank" rel="noopener">https://www.jianshu.com/p/07f7931a00db?utm_campaign=haruki</a></p>
<h1 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h1><ol>
<li>数据data和映射mapping</li>
<li>标度scale</li>
<li>几何对象Geom</li>
<li>统计变换Stat</li>
<li>坐标系统Coord</li>
<li>图层Layer</li>
<li>分面Facet</li>
<li>主题Theme</li>
<li>存储和输出</li>
</ol>
<h1 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">ggplot(mpg,aes(x=cty,y=hwy))+geom_point(aes(colour=factor(year),size=displ))+theme(legend.position = &quot;left&quot;)</span><br><span class="line"></span><br><span class="line">#同一坐标轴做对比</span><br><span class="line">ggplot(mpg, aes(x=cty))+geom_point(aes(y=hwy,colour=&quot;red&quot;))+geom_point(aes(y=displ,colour=&quot;green&quot;))</span><br><span class="line">#直方图，纵轴表示密度</span><br><span class="line">ggplot(mpg,aes(x=hwy,y=..density..))+geom_histogram(binwidth =0.5)</span><br><span class="line"></span><br><span class="line">#元素位置调整</span><br><span class="line">ggplot(mpg)+geom_histogram(aes(x=hwy,fill=factor(year)))</span><br><span class="line">ggplot(mpg,aes(x=hwy,fill=factor(year)))+geom_histogram(position=&quot;dodge&quot;)</span><br><span class="line">ggplot(mpg,aes(x=hwy,fill=factor(year)))+geom_histogram(position=&quot;fill&quot;)</span><br><span class="line">ggplot(mpg,aes(x=hwy,y=class))+geom_histogram(stat = &quot;identity&quot;)</span><br><span class="line">ggplot(mpg,aes(x=hwy,fill=factor(year)))+geom_histogram(position = &quot;jitter&quot;)</span><br><span class="line"></span><br><span class="line">ggplot(mpg,aes(x=hwy,fill=factor(year)))+geom_histogram(position=&quot;stack&quot;)</span><br><span class="line"></span><br><span class="line">#条形图</span><br><span class="line">ggplot(mpg,aes(x=class))+geom_bar()</span><br><span class="line">#多重图</span><br><span class="line">library(gridExtra)</span><br><span class="line">p1&lt;-ggplot(mpg, aes(class,hwy))+geom_boxplot()</span><br><span class="line">p2&lt;-ggplot(mpg, aes(class))+geom_bar()</span><br><span class="line">p3&lt;-ggplot(mpg,aes(x=cty, y=hwy))+geom_point()</span><br><span class="line">grid.arrange(p1,p2,p3,ncol=3)</span><br></pre></td></tr></table></figure>
<p></p>
      <div class="post-button"><a class="btn" href="/mengxiao2000.github.io/2020/04/08/ggplot2/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>Read More</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/mengxiao2000.github.io/2020/03/14/todolist/">Django之制作todolist</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2020-03-14 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/mengxiao2000.github.io/categories/Django/">Django</a></span>
      <p></p><p>本案例使用Django框架创建了一个todolist应用。</p>
<p><img src="todo01.png" alt="效果0"><br><img src="todo02.png" alt="效果1"></p>
<p>[TOC]</p>
<h1 id="虚拟环境使用"><a href="#虚拟环境使用" class="headerlink" title="虚拟环境使用"></a>虚拟环境使用</h1><ol>
<li><p>使用virtualenv</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#创建虚拟环境</span><br><span class="line">virtualenv venv</span><br><span class="line"></span><br><span class="line">#cd到虚拟环境目录</span><br><span class="line">#激活虚拟环境</span><br><span class="line">source ./bin/activate</span><br><span class="line"></span><br><span class="line">#退出虚拟环境</span><br><span class="line">deactivate</span><br><span class="line"></span><br><span class="line">#删除虚拟环境</span><br><span class="line">rmvirtualenv venv</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用virtualenvwrapper</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">#创建虚拟环境</span><br><span class="line">mkvirtualenv venv</span><br><span class="line"></span><br><span class="line">#列出所有虚拟环境</span><br><span class="line">lsvirtualenv</span><br><span class="line"></span><br><span class="line">#激活虚拟环境</span><br><span class="line">workon venv</span><br><span class="line"></span><br><span class="line">#退出虚拟环境</span><br><span class="line">deactivate</span><br><span class="line"></span><br><span class="line">#停止虚拟环境所有软件包</span><br><span class="line">rmvirtualenv venv</span><br><span class="line"></span><br><span class="line">#可以使用pip list 查看已安装的包</span><br><span class="line"></span><br><span class="line">#进入虚拟环境目录</span><br><span class="line">cdvirtualenv</span><br><span class="line"></span><br><span class="line">#进入虚拟环境site-packages</span><br><span class="line">cdsitepackages</span><br><span class="line"></span><br><span class="line">#列出目录下所有软件包</span><br><span class="line">lssitepackages</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="创建project和app的相关步骤"><a href="#创建project和app的相关步骤" class="headerlink" title="创建project和app的相关步骤"></a>创建project和app的相关步骤</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#创建project</span><br><span class="line">django-admin startproject HelloWorld</span><br><span class="line"></span><br><span class="line">#创建app</span><br><span class="line">python manage.py startapp SimpleTodo</span><br></pre></td></tr></table></figure>
<h2 id="修改HelloWorld-settings-py"><a href="#修改HelloWorld-settings-py" class="headerlink" title="修改HelloWorld/settings.py"></a>修改HelloWorld/settings.py</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># Application definition</span><br><span class="line"></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    &apos;django.contrib.admin&apos;,</span><br><span class="line">    &apos;django.contrib.auth&apos;,</span><br><span class="line">    &apos;django.contrib.contenttypes&apos;,</span><br><span class="line">    &apos;django.contrib.sessions&apos;,</span><br><span class="line">    &apos;django.contrib.messages&apos;,</span><br><span class="line">    &apos;django.contrib.staticfiles&apos;,</span><br><span class="line">    &apos;SimpleTodo&apos;, </span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">#配置mysql数据库</span><br><span class="line">DATABASES = &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="修改HelloWorld-urls-py"><a href="#修改HelloWorld-urls-py" class="headerlink" title="修改HelloWorld/urls.py"></a>修改HelloWorld/urls.py</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">from django.contrib import admin</span><br><span class="line">from django.urls import path, include</span><br><span class="line">from django.conf.urls import *</span><br><span class="line">from . import view</span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(&apos;admin/&apos;, admin.site.urls),</span><br><span class="line">    path(r&apos;todolist&apos;,include(&apos;SimpleTodo.urls&apos;)),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h1 id="todolist搭建"><a href="#todolist搭建" class="headerlink" title="todolist搭建"></a>todolist搭建</h1><h2 id="Model层"><a href="#Model层" class="headerlink" title="Model层"></a>Model层</h2><ol>
<li><p>修改SimpleTodo/models.py</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">from django.db import models</span><br><span class="line">from django.contrib.auth.models import User</span><br><span class="line"># Create your models here.</span><br><span class="line"></span><br><span class="line">class Todo(models.Model):</span><br><span class="line">    user = models.ForeignKey(User, on_delete=models.CASCADE,)</span><br><span class="line">    todo = models.CharField(max_length=50)</span><br><span class="line">    flag = models.CharField(max_length=2, default=&apos;1&apos;)</span><br><span class="line">    priority = models.CharField(max_length=2, default=&apos;0&apos;)</span><br><span class="line">    pubtime = models.DateTimeField(auto_now_add=True)</span><br><span class="line"></span><br><span class="line">    def __unicode__(self):</span><br><span class="line">        return u&apos;%d %s %s&apos;%(self.id, self.todo, self.flag)</span><br><span class="line"></span><br><span class="line">    class Meta: </span><br><span class="line">        ordering = [&apos;priority&apos;, &apos;pubtime&apos;]</span><br></pre></td></tr></table></figure>
</li>
<li><p>数据库迁移，命令行操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#生成迁移文件</span><br><span class="line">python manage.py makemigrations</span><br><span class="line"></span><br><span class="line">#迁移数据库</span><br><span class="line">python manage.py migrate</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="View层"><a href="#View层" class="headerlink" title="View层"></a>View层</h2><ol>
<li>修改SimpleTodo/views.py<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">from django.shortcuts import render</span><br><span class="line">from django.http import HttpResponseRedirect</span><br><span class="line">from django.template import RequestContext</span><br><span class="line">from django.contrib.auth.models import User</span><br><span class="line">from django.http import Http404</span><br><span class="line">from SimpleTodo.models import Todo</span><br><span class="line"># Create your views here.</span><br><span class="line"></span><br><span class="line"># 获取todo列表</span><br><span class="line">def todolist(request):</span><br><span class="line">    todolist = Todo.objects.filter(flag=1)</span><br><span class="line">    finishtodos = Todo.objects.filter(flag=0)</span><br><span class="line">    return render(request, &apos;simpleTodo.html&apos;,</span><br><span class="line">                  &#123;&apos;todolist&apos;: todolist, &apos;finishtodos&apos;: finishtodos&#125;,)</span><br><span class="line"></span><br><span class="line"># 完成todo</span><br><span class="line">def todofinish(request):</span><br><span class="line">    id = request.GET.get(&apos;id&apos;,&apos;&apos;)</span><br><span class="line">    if id == &apos;&apos;:</span><br><span class="line">        return HttpResponseRedirect(&apos;/todolist&apos;)</span><br><span class="line"></span><br><span class="line">    todo = Todo.objects.get(id=id)</span><br><span class="line">    if todo.flag == &apos;1&apos;:</span><br><span class="line">        todo.flag = &apos;0&apos;</span><br><span class="line">        todo.save()</span><br><span class="line">    return HttpResponseRedirect(&apos;/todolist&apos;)</span><br><span class="line">    # todolist = Todo.objects.filter(flag=1)</span><br><span class="line">    # return render(request, &apos;simpleTodo.html&apos;, &#123;&apos;todolist&apos;: todolist&#125;)</span><br><span class="line"></span><br><span class="line"># 更改todo状态</span><br><span class="line">def todoback(request):</span><br><span class="line">    </span><br><span class="line">    id = request.GET.get(&apos;id&apos;,&apos;&apos;)</span><br><span class="line">    if id == &apos;&apos;:</span><br><span class="line">        return HttpResponseRedirect(&apos;/todolist&apos;)</span><br><span class="line"></span><br><span class="line">    todo = Todo.objects.get(id=id)</span><br><span class="line">    if todo.flag == &apos;0&apos;:</span><br><span class="line">        todo.flag = &apos;1&apos;</span><br><span class="line">        todo.save()</span><br><span class="line">    return HttpResponseRedirect(&apos;/todolist&apos;)</span><br><span class="line"></span><br><span class="line"># 添加todo</span><br><span class="line">def todoadd(request):</span><br><span class="line">    if request.method == &apos;POST&apos;:</span><br><span class="line">        todoc = request.POST[&apos;todo&apos;]</span><br><span class="line">        priority = request.POST[&apos;priority&apos;]</span><br><span class="line">        user = User.objects.get(id=&apos;1&apos;)</span><br><span class="line">        todo = Todo(user=user, todo=todoc, priority=priority, flag=&apos;1&apos;)</span><br><span class="line">        todo.save()</span><br><span class="line">        todolist = Todo.objects.filter(flag=1)</span><br><span class="line">        finishtodos = Todo.objects.filter(flag=0)</span><br><span class="line">        return render(request, &apos;simpleTodo.html&apos;,</span><br><span class="line">                      &#123;&apos;todolist&apos;: todolist, &apos;finishtodos&apos;: finishtodos&#125;,)</span><br><span class="line">    else:</span><br><span class="line">        todolist = Todo.objects.filter(flag=1)</span><br><span class="line">        finishtodos = Todo.objects.filter(flag=0)</span><br><span class="line">        return render(request, &apos;simpleTodo.html&apos;,</span><br><span class="line">                      &#123;&apos;todolist&apos;: todolist, &apos;finishtodos&apos;: finishtodos&#125;,)</span><br><span class="line"></span><br><span class="line"># 删除todo</span><br><span class="line">def tododelete(request):</span><br><span class="line">    id = request.GET.get(&apos;id&apos;,&apos;&apos;)</span><br><span class="line">    if id == &apos;&apos;:</span><br><span class="line">        return HttpResponseRedirect(&apos;/todolist&apos;)</span><br><span class="line"></span><br><span class="line">    try:</span><br><span class="line">        todo = Todo.objects.get(id=id)</span><br><span class="line">    except Exception:</span><br><span class="line">        raise Http404</span><br><span class="line">    if todo:</span><br><span class="line">        todo.delete()</span><br><span class="line">        return HttpResponseRedirect(&apos;/todolist&apos;)</span><br><span class="line">    todolist = Todo.objects.filter(flag=1)</span><br><span class="line">    return render(request, &apos;simpleTodo.html&apos;, &#123;&apos;todolist&apos;: todolist&#125;)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="路由设置"><a href="#路由设置" class="headerlink" title="路由设置"></a>路由设置</h1><ol>
<li>修改SimpleTodo/urls.py<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">from django.urls import path,  include</span><br><span class="line">from . import views</span><br><span class="line">from django.conf.urls import url</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(r&apos;&apos;, views.todolist, name=&apos;todolist&apos;),</span><br><span class="line">    url(r&apos;/add&apos;, views.todoadd, name=&apos;todoadd&apos;),</span><br><span class="line">    url(r&apos;/todofinish/&apos;, views.todofinish, name=&apos;finish&apos;),</span><br><span class="line">    url(r&apos;/tododelete/&apos;, views.tododelete, name=&apos;delete&apos;),</span><br><span class="line">    url(r&apos;/todoback/&apos;, views.todoback, name=&apos;back&apos;),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="前端页面"><a href="#前端页面" class="headerlink" title="前端页面"></a>前端页面</h1><p>使用Bootstrap，具体参考官方文档</p>
<ol>
<li><p>创建模板，设置templates/base.html</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line">&#123;% block mainbody %&#125;</span><br><span class="line">&lt;p&gt;original&lt;/p&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置templates/simpleTodo.html</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &apos;base.html&apos; %&#125;</span><br><span class="line"></span><br><span class="line">&#123;% block mainbody %&#125;</span><br><span class="line"></span><br><span class="line">&lt;div class=&apos;container&apos;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;h3&gt;To do &lt;span class=&quot;badge badge-dark&quot; style=&quot;cursor: pointer;&quot; data-toggle=&quot;modal&quot;</span><br><span class="line">            data-target=&quot;#exampleModal&quot;&gt;Add&lt;/span&gt;&lt;/h3&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- Modal --&gt;</span><br><span class="line">    &lt;div class=&quot;modal fade&quot; id=&quot;exampleModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;exampleModalLabel&quot;</span><br><span class="line">        aria-hidden=&quot;true&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;modal-content&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;modal-header&quot;&gt;</span><br><span class="line">                    &lt;h5 class=&quot;modal-title&quot; id=&quot;exampleModalLabel&quot;&gt;Add a Card&lt;/h5&gt;</span><br><span class="line">                    &lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot; aria-label=&quot;Close&quot;&gt;</span><br><span class="line">                        &lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;</span><br><span class="line">                    &lt;/button&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;modal-body&quot;&gt;</span><br><span class="line">                    &lt;form action=&quot;/todolist/add&quot; method=&quot;POST&quot;&gt;</span><br><span class="line">                        &#123;% csrf_token %&#125;</span><br><span class="line">                        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                            &lt;label for=&quot;exampleFormControlTextarea1&quot; name=&apos;todo&apos;&gt;To do&lt;/label&gt;</span><br><span class="line">                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;exampleFormControlTextarea1&quot; name=&apos;todo&apos;&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                        &lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">                            &lt;label for=&quot;exampleInputPriority&quot;&gt;Priority&lt;/label&gt;</span><br><span class="line">                            &lt;input type=&quot;number&quot; class=&quot;form-control&quot; id=&quot;exampleInputPriority&quot; name=&apos;priority&apos;&gt;</span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;div class=&quot;modal-footer&quot;&gt;</span><br><span class="line">                            &lt;button type=&quot;button&quot; class=&quot;btn btn-secondary&quot; data-dismiss=&quot;modal&quot;&gt;Close&lt;/button&gt;</span><br><span class="line">                            &lt;input type=&quot;submit&quot; value=&apos;add&apos; class=&quot;btn btn-primary&quot;&gt;</span><br><span class="line">                            </span><br><span class="line">                        &lt;/div&gt;</span><br><span class="line">                    &lt;/form&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div class=&apos;row row-cols-4&apos;&gt;</span><br><span class="line">        &#123;% for todo in todolist %&#125;</span><br><span class="line">        &lt;div class=&apos;col&apos;&gt;</span><br><span class="line">            &lt;div class=&quot;card&quot; style=&quot;width: 15rem; height:14rem;&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;card-body&quot;&gt;</span><br><span class="line">                    &lt;h5 class=&quot;card-title&quot;&gt;&#123;&#123;todo.pubtime&#125;&#125;&lt;/h5&gt;</span><br><span class="line">                    &lt;p class=&quot;card-text&quot;&gt;&#123;&#123;todo.todo&#125;&#125;&lt;/p&gt;</span><br><span class="line">                    &lt;a href=&quot;todolist/todofinish/?id=&#123;&#123;todo.id&#125;&#125;&quot; class=&quot;btn btn-outline-success&quot;&gt;Finish&lt;/a&gt;</span><br><span class="line">                    &lt;a href=&quot;todolist/tododelete/?id=&#123;&#123;todo.id&#125;&#125;&quot; class=&quot;btn btn-outline-danger&quot;&gt;Delete&lt;/a&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;br&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;br&gt;</span><br><span class="line">    &lt;h3&gt;Finished&lt;/h3&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&apos;row row-cols-4&apos;&gt;</span><br><span class="line">        &#123;% for todo in finishtodos %&#125;</span><br><span class="line">        &lt;div class=&apos;col&apos;&gt;</span><br><span class="line">            &lt;div class=&quot;card&quot; style=&quot;width: 15rem; height:14rem;&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;card-body&quot;&gt;</span><br><span class="line">                    &lt;h5 class=&quot;card-title&quot;&gt;&#123;&#123;todo.pubtime&#125;&#125;&lt;/h5&gt;</span><br><span class="line">                    &lt;p class=&quot;card-text&quot;&gt;&#123;&#123;todo.todo&#125;&#125;&lt;/p&gt;</span><br><span class="line">                    &lt;a href=&quot;todolist/todoback/?id=&#123;&#123;todo.id&#125;&#125;&quot; class=&quot;btn btn-outline-success&quot;&gt;Recover&lt;/a&gt;</span><br><span class="line">                    &lt;a href=&quot;todolist/tododelete/?id=&#123;&#123;todo.id&#125;&#125;&quot; class=&quot;btn btn-outline-danger&quot;&gt;Delete&lt;/a&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;br&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &#123;% endfor %&#125;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h1 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h1><ol>
<li><p><a href="https://blog.csdn.net/hcx25909/article/details/24251427?utm_source=app" target="_blank" rel="noopener">https://blog.csdn.net/hcx25909/article/details/24251427?utm_source=app</a></p>
</li>
<li><p>菜鸟教程</p>
</li>
</ol>
<p></p>
      <div class="post-button"><a class="btn" href="/mengxiao2000.github.io/2020/03/14/todolist/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>Read More</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/mengxiao2000.github.io/2020/02/27/2020-03-04-rstudy03/">R语言入门03</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2020-02-27 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/mengxiao2000.github.io/categories/R/">R</a></span>
      <p></p><h2 id="向量"><a href="#向量" class="headerlink" title="向量"></a>向量</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#多元素向量</span><br><span class="line">v= 5:13</span><br><span class="line">print(v)</span><br><span class="line"></span><br><span class="line">v = 1.6:12.6</span><br><span class="line">print(v)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">v = 1.3:8.8</span><br><span class="line">print(v)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#sequence序列运算符</span><br><span class="line"></span><br><span class="line">print(seq(5,9, by=0.4))</span><br><span class="line"></span><br><span class="line">#C()运算符 一个为字符则全转为字符</span><br><span class="line">s = c(&apos;apple&apos;,&apos;red&apos;,3)</span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#访问向量元素</span><br><span class="line"></span><br><span class="line">t = c(&apos;a&apos;,&apos;c&apos;,&apos;d&apos;,&apos;f&apos;,&apos;g&apos;)</span><br><span class="line">u = t[c(1,3,5)]</span><br><span class="line">print(u)</span><br><span class="line"></span><br><span class="line">v = t[c(TRUE,TRUE,FALSE,TRUE,TRUE)]</span><br><span class="line">print(v)</span><br><span class="line"></span><br><span class="line">y = t[c(1,2,1,1,1)]</span><br><span class="line">print(y)</span><br><span class="line"></span><br><span class="line">v = t[c(-2, -3)]</span><br><span class="line">print(v)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#向量运算 略</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#向量元素回收</span><br><span class="line">v1 = c(3,8,4,5,9,11)</span><br><span class="line">v2 = c(4,11)</span><br><span class="line"></span><br><span class="line">#v2 填充为 c(4,11,4,11,4,11)</span><br><span class="line">add.result = v1+v2</span><br><span class="line">print(add.result)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#向量元素排序</span><br><span class="line">v = c(2,1,4,9,5,-10)</span><br><span class="line">sort.result = sort(v)</span><br><span class="line">print(sort.result)</span><br><span class="line">resort.result = sort(v, decreasing = TRUE)</span><br><span class="line">print(resort.result)</span><br><span class="line"></span><br><span class="line"># Sorting character vectors.</span><br><span class="line">v &lt;- c(&quot;Red&quot;,&quot;Blue&quot;,&quot;yellow&quot;,&quot;violet&quot;)</span><br><span class="line">sort.result &lt;- sort(v)</span><br><span class="line">print(sort.result)</span><br></pre></td></tr></table></figure>
<h2 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list_data = list(&apos;Red&apos;,&apos;Green&apos;,c(2,4,5),TRUE)</span><br><span class="line">print(list_data)</span><br><span class="line"></span><br><span class="line">#命名</span><br><span class="line">names(list_data) = c(&apos;color1&apos;,&apos;color2&apos;,&apos;vector&apos;,&apos;bool&apos;)</span><br><span class="line">print(list_data)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#访问列表元素</span><br><span class="line">print(list_data[1])</span><br><span class="line"></span><br><span class="line">print(list_data$vector)</span><br><span class="line"></span><br><span class="line">#添加删除更新列表元素</span><br><span class="line">list_data[5] = &apos;new element&apos;</span><br><span class="line">print(list_data[5])</span><br><span class="line"></span><br><span class="line">list_data[5] = NULL</span><br><span class="line">print(list_data[5])</span><br><span class="line"></span><br><span class="line">list_data[3] = &apos;update ele&apos;</span><br><span class="line">print(list_data[3])</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#合并列表</span><br><span class="line">list1 = list(1,2,3)</span><br><span class="line">list2 = list(&apos;Sun&apos;,&apos;Mon&apos;,&apos;Tue&apos;)</span><br><span class="line"></span><br><span class="line">merged.list = c(list1, list2)</span><br><span class="line"></span><br><span class="line">print(merged.list)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#将列表转化为向量</span><br><span class="line">list1 = list(1:5)</span><br><span class="line">print(list1)</span><br><span class="line"></span><br><span class="line">list2 = list(10:14)</span><br><span class="line">print(list2)</span><br><span class="line"></span><br><span class="line">v1 = unlist(list1)</span><br><span class="line">v2 = unlist(list2)</span><br><span class="line"></span><br><span class="line">print(v1)</span><br><span class="line">print(v2)</span><br><span class="line"></span><br><span class="line">result = v1+v2</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>
<h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">M = matrix(c(3:14),nrow = 4, byrow=TRUE)</span><br><span class="line">print(M)</span><br><span class="line"></span><br><span class="line">rownames = c(&apos;r1&apos;,&apos;r2&apos;,&apos;r3&apos;,&apos;r4&apos;)</span><br><span class="line">colnames = c(&apos;c1&apos;,&apos;c2&apos;,&apos;c3&apos;)</span><br><span class="line"></span><br><span class="line">p = matrix(c(3:14), nrow=4, byrow = TRUE, dimnames = list(rownames,colnames))</span><br><span class="line"></span><br><span class="line">print(p)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#访问元素</span><br><span class="line">print(p[1,3])</span><br><span class="line"></span><br><span class="line">print(p[2,])</span><br><span class="line"></span><br><span class="line">print(p[,3])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#加减乘除法 略</span><br></pre></td></tr></table></figure>
<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># Create two vectors of different lengths.</span><br><span class="line">vector1 &lt;- c(5,9,3)</span><br><span class="line">vector2 &lt;- c(10,11,12,13,14,15)</span><br><span class="line"></span><br><span class="line"># Take these vectors as input to the array.</span><br><span class="line">result &lt;- array(c(vector1,vector2),dim = c(3,3,2))</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#加减乘除访问元素 略</span><br><span class="line"></span><br><span class="line"># 跨矩阵元素的计算</span><br><span class="line"># apply(x,margin,func)</span><br><span class="line"># x:数组</span><br><span class="line"># margin: 以第几维度为单位操作</span><br><span class="line"># func: 所使用的函数</span><br><span class="line">vector1 &lt;- c(5,9,3)</span><br><span class="line">vector2 &lt;- c(10,11,12,13,14,15) </span><br><span class="line">new.array &lt;- array(c(vector1,vector2),dim = c(3,3,2))</span><br><span class="line">print(new.array)</span><br><span class="line"></span><br><span class="line">result &lt;- apply(new.array, c(3), sum)</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>
<h2 id="dataframe"><a href="#dataframe" class="headerlink" title="dataframe"></a>dataframe</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># Create the data frame.</span><br><span class="line">emp.data &lt;- data.frame(</span><br><span class="line">   emp_id = c (1:5), </span><br><span class="line">   emp_name = c(&quot;Rick&quot;,&quot;Dan&quot;,&quot;Michelle&quot;,&quot;Ryan&quot;,&quot;Gary&quot;),</span><br><span class="line">   salary = c(623.3,515.2,611.0,729.0,843.25), </span><br><span class="line">   </span><br><span class="line">   start_date = as.Date(c(&quot;2012-01-01&quot;, &quot;2013-09-23&quot;, &quot;2014-11-15&quot;, &quot;2014-05-11&quot;,</span><br><span class="line">      &quot;2015-03-27&quot;)),</span><br><span class="line">   stringsAsFactors = FALSE</span><br><span class="line">)</span><br><span class="line"># Print the data frame.			</span><br><span class="line">print(emp.data)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#获取dataframe的结构</span><br><span class="line">str(emp.data) </span><br><span class="line"></span><br><span class="line">#获取数据摘要</span><br><span class="line">print(summary(emp.data))</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#提取两列</span><br><span class="line">result = data.frame(emp.data$emp_name, emp.data$salary)</span><br><span class="line"></span><br><span class="line">print(result)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#提取两行</span><br><span class="line">result &lt;- emp.data[1:2,]</span><br><span class="line">print(result)</span><br><span class="line"></span><br><span class="line">#提取第三行和五行的第二和四列</span><br><span class="line">result &lt;- emp.data[c(3,5),c(2,4)]</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#添加列</span><br><span class="line">emp.data$dept &lt;- c(&quot;IT&quot;,&quot;Operations&quot;,&quot;IT&quot;,&quot;HR&quot;,&quot;Finance&quot;)</span><br><span class="line">v &lt;- emp.data</span><br><span class="line">print(v)</span><br><span class="line"></span><br><span class="line">##添加行</span><br><span class="line">emp.newdata = 	data.frame(</span><br><span class="line">   emp_id = c (6:8), </span><br><span class="line">   emp_name = c(&quot;Rasmi&quot;,&quot;Pranab&quot;,&quot;Tusar&quot;),</span><br><span class="line">   salary = c(578.0,722.5,632.8), </span><br><span class="line">   start_date =</span><br><span class="line">     as.Date(c(&quot;2013-05-21&quot;,&quot;2013-07-30&quot;,&quot;2014-06-17&quot;)),</span><br><span class="line">   dept = c(&quot;IT&quot;,&quot;Operations&quot;,&quot;Fianance&quot;),</span><br><span class="line">   stringsAsFactors = FALSE</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">emp.finaldata = rbind(emp.data, emp.newdata)</span><br><span class="line">print(emp.finaldata)</span><br></pre></td></tr></table></figure>
<p></p>
      <div class="post-button"><a class="btn" href="/mengxiao2000.github.io/2020/02/27/2020-03-04-rstudy03/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>Read More</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/mengxiao2000.github.io/2020/02/27/rstudy02/">R语言入门02</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2020-02-27 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/mengxiao2000.github.io/categories/R/">R</a></span>
      <p></p><h1 id="R语言入门2"><a href="#R语言入门2" class="headerlink" title="R语言入门2"></a>R语言入门2</h1><h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">v &lt;- c(&apos;hello&apos;,&apos;loop&apos;)</span><br><span class="line">cnt &lt;- 2</span><br><span class="line"></span><br><span class="line">#repeat</span><br><span class="line">repeat&#123;</span><br><span class="line">  print(v)</span><br><span class="line">  cnt &lt;- cnt + 1</span><br><span class="line">  if(cnt&gt;5)&#123;</span><br><span class="line">    break</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#while</span><br><span class="line">while(cnt&lt;7)&#123;</span><br><span class="line">  print(v)</span><br><span class="line">  cnt = cnt + 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#for</span><br><span class="line">v = LETTERS[1:4]</span><br><span class="line">for(i in v)&#123;</span><br><span class="line">  print(i)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#next</span><br><span class="line">v = LETTERS[1:6]</span><br><span class="line">for (i in v)&#123;</span><br><span class="line">  </span><br><span class="line">  if(i==&apos;D&apos;)&#123;</span><br><span class="line">    next</span><br><span class="line">  &#125;</span><br><span class="line">  print(i)</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="数据重塑"><a href="#数据重塑" class="headerlink" title="数据重塑"></a>数据重塑</h2><h3 id="在dataframe中加入行和列"><a href="#在dataframe中加入行和列" class="headerlink" title="在dataframe中加入行和列"></a>在dataframe中加入行和列</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">#cbind()连接多个向量创建数据帧</span><br><span class="line">#rbind()合并两个数据帧</span><br><span class="line">city = c(&apos;Beijing&apos;,&apos;Shanghai&apos;,&apos;Guangzhou&apos;)</span><br><span class="line">province = c(&apos;Beijing&apos;, &apos;Shanghai&apos;, &apos;Guangdong&apos;)</span><br><span class="line">GDP = c(&apos;2000&apos;,&apos;3000&apos;,&apos;2500&apos;)</span><br><span class="line"></span><br><span class="line">cities = cbind(city, province, GDP)</span><br><span class="line"></span><br><span class="line">cat(&apos;# # # The First data Frame&apos;)</span><br><span class="line"></span><br><span class="line">print(cities)</span><br><span class="line"></span><br><span class="line">new.citi = data.frame(</span><br><span class="line">  city = c(&apos;Xian&apos;,&apos;Nanjing&apos;),</span><br><span class="line">  province = c(&apos;Shanxi&apos;, &apos;Jiangsu&apos;),</span><br><span class="line">  GDP = c(&apos;1500&apos;,&apos;1900&apos;),</span><br><span class="line">  stringsAsFactors =  FALSE</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">cat(&apos;# # # The Second data Frame&apos;)</span><br><span class="line"></span><br><span class="line">print(new.citi)</span><br><span class="line"></span><br><span class="line">all.cities = rbind(cities, new.citi)</span><br><span class="line"></span><br><span class="line">cat(&apos;# # # The combined data Frame&apos;)</span><br><span class="line"></span><br><span class="line">print(all.cities)</span><br></pre></td></tr></table></figure>
<h3 id="合并数据帧"><a href="#合并数据帧" class="headerlink" title="合并数据帧"></a>合并数据帧</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#merge() 合并， 数据帧必须具有相同的列名称</span><br><span class="line">library(MASS)</span><br><span class="line">merged.Pima = merge(x = Pima.te, y = Pima.tr, </span><br><span class="line">                    by.x = c(&apos;bp&apos;, &apos;bmi&apos;),</span><br><span class="line">                    by.y = c(&apos;bp&apos;, &apos;bmi&apos;)</span><br><span class="line">                    )</span><br><span class="line">print(merged.Pima)</span><br></pre></td></tr></table></figure>
<h3 id="melt-拆分数据和cast-数据重构"><a href="#melt-拆分数据和cast-数据重构" class="headerlink" title="melt()拆分数据和cast()数据重构"></a>melt()拆分数据和cast()数据重构</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">print(ships)</span><br><span class="line"></span><br><span class="line">#melt  拆分，把除了选中列以外的列转化为多行展示</span><br><span class="line">library(reshape2)</span><br><span class="line">molten.ships = melt(ships, id=c(&apos;type&apos;, &apos;year&apos;))</span><br><span class="line"></span><br><span class="line">#install.packages(&quot;reshape2&quot;)</span><br><span class="line">print(molten.ships)</span><br><span class="line"></span><br><span class="line">#cast</span><br><span class="line">#每年每种类型的船的总和 选中变量之外的变量进行sum操作</span><br><span class="line">#acast,dcast的区别在于输出结果。acast 输出结果为vector/matrix/array，dcast 输出结果为data.frame。</span><br><span class="line"></span><br><span class="line">recasted.ships = dcast(molten.ships, type+year~variable,sum)</span><br><span class="line">print(recasted.ships)</span><br></pre></td></tr></table></figure>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">print(seq(32,44))</span><br><span class="line">print(mean(24:99))</span><br><span class="line">print(sum(1:10))</span><br><span class="line"></span><br><span class="line">#自定义函数</span><br><span class="line">new.function = function(a=1)&#123;</span><br><span class="line">  for(i in 1:a)&#123;</span><br><span class="line">    b = i^2</span><br><span class="line">    print(b)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">new.function(3)</span><br><span class="line">new.function()</span><br></pre></td></tr></table></figure>
<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#paste()连接字符串</span><br><span class="line"></span><br><span class="line">a = &apos;Hello&apos;</span><br><span class="line">b = &apos;How&apos;</span><br><span class="line">c = &apos;are you?&apos;</span><br><span class="line"></span><br><span class="line">print(paste(a,b,c))</span><br><span class="line">print(paste(a,b,c, sep = &apos;-&apos;))</span><br><span class="line">print(paste(a,b,c,sep = &apos;&apos;,collapse = &apos;&apos;))</span><br><span class="line"></span><br><span class="line">#format()</span><br><span class="line">print(format(2.71828, digits=3)) #显示的总位数</span><br><span class="line">print(format(c(3.1415926535,2.71828), scientific = TRUE)) #科学计数法</span><br><span class="line">print(format(c(3.1415926535,2.71828), nsmall=5)) #小数点右边最小位数</span><br><span class="line">result = format(6) #返回一个文本型</span><br><span class="line">print(result)</span><br><span class="line">result = format(13.8, width=6) #设置宽度</span><br><span class="line">print(result)</span><br><span class="line">result = format(&apos;Hello&apos;, width=8, justify = &apos;l&apos;) #居左</span><br><span class="line">print(result)</span><br><span class="line">result = format(&apos;Hello&apos;, width=8, justify = &apos;c&apos;)#justify位置居中</span><br><span class="line">print(result)</span><br><span class="line"></span><br><span class="line">#计算字符串中的字符数</span><br><span class="line">x = &apos;天堂电影院&apos;</span><br><span class="line">nchar(x)</span><br><span class="line"></span><br><span class="line">#大小写</span><br><span class="line">y = &apos;administrator&apos;</span><br><span class="line">toupper(y)</span><br><span class="line">tolower(y)</span><br><span class="line"></span><br><span class="line">#substring提取</span><br><span class="line">result = substring(y, 2,10) #输入，第一个字符位置，最后一个字符位置</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://www.w3cschool.cn/r/r_overview.html" title="W3Cschool-R语言 教程" target="_blank" rel="noopener">https://www.w3cschool.cn/r/r_overview.html</a></p>
<p></p>
      <div class="post-button"><a class="btn" href="/mengxiao2000.github.io/2020/02/27/rstudy02/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>Read More</a></div>
    </div>
  </div>
  <div class="lx-entry padding">
    <div>
      <h2 class="title"><a href="/mengxiao2000.github.io/2020/02/26/rstudy01/">R语言入门01</a></h2>
      <span class="lx-post-detail"><i class="fa fa-calendar-o"></i> 2020-02-26 | <i class="fa fa-folder-o"></i> <a class="category-link" href="/mengxiao2000.github.io/categories/R/">R</a></span>
      <p></p><h1 id="R语言入门"><a href="#R语言入门" class="headerlink" title="R语言入门"></a>R语言入门</h1><h2 id="Start"><a href="#Start" class="headerlink" title="Start"></a>Start</h2><h3 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World!"></a>Hello World!</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(&apos;Hello World&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="安装所需要的软件包"><a href="#安装所需要的软件包" class="headerlink" title="安装所需要的软件包"></a>安装所需要的软件包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">install.packages(&apos;plotrix&apos;)</span><br></pre></td></tr></table></figure>
<h3 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mystring = &quot;Hello, World!&quot;</span><br><span class="line">print(mystring)</span><br></pre></td></tr></table></figure>
<h3 id="不支持多行注释下的一种多行注释方法"><a href="#不支持多行注释下的一种多行注释方法" class="headerlink" title="不支持多行注释下的一种多行注释方法"></a>不支持多行注释下的一种多行注释方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">if(FALSE) &#123;</span><br><span class="line">  &quot;This is a demo for multi-line comments and it should be put inside either a single</span><br><span class="line">      OR double quote&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">#向量Vector</span><br><span class="line">human = c(&apos;head&apos;,&apos;hand&apos;,&apos;foot&apos;)</span><br><span class="line">print(human)</span><br><span class="line">print(class(human))</span><br><span class="line"></span><br><span class="line">#列表List</span><br><span class="line">list = list(c(2,5,3),21,3,sin)</span><br><span class="line">print(list)</span><br><span class="line"></span><br><span class="line">#Matrix矩阵 二维矩形数据集</span><br><span class="line">M = matrix(c(&apos;a&apos;,&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;),</span><br><span class="line">           nrow=2,</span><br><span class="line">           ncol=3,</span><br><span class="line">           byrow=TRUE)</span><br><span class="line">print(M)</span><br><span class="line"></span><br><span class="line">#Arrays数组 可以多维</span><br><span class="line">a = array(c(&apos;green&apos;, &apos;yellow&apos;), dim=c(3,3,2))</span><br><span class="line">print(a)</span><br><span class="line"></span><br><span class="line">#Factors因子</span><br><span class="line">colors = c(&apos;green&apos;,&apos;yellow&apos;,&apos;red&apos;,&apos;red&apos;,&apos;red&apos;)</span><br><span class="line">factor_colors = factor(colors)</span><br><span class="line">print(factor_colors)</span><br><span class="line">print(nlevels(factor_colors))</span><br><span class="line"></span><br><span class="line">#DataFrame</span><br><span class="line">BMI =	data.frame(</span><br><span class="line">  gender = c(&quot;Male&quot;, &quot;Male&quot;,&quot;Female&quot;), </span><br><span class="line">  height = c(152, 171.5, 165), </span><br><span class="line">  weight = c(81,93, 78),</span><br><span class="line">  Age = c(42,38,26)</span><br><span class="line">)</span><br><span class="line">print(BMI)</span><br></pre></td></tr></table></figure>
<h3 id="变量使用"><a href="#变量使用" class="headerlink" title="变量使用"></a>变量使用</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#cat()函数 组合成连续打印输出</span><br><span class="line">var.1 = c(0,1,2)</span><br><span class="line">var.2 = c(&quot;you&quot;,&quot;are&quot;,&quot;good&quot;)</span><br><span class="line">cat(&quot;var.1 is&quot;,var.1, &quot;.&quot;)</span><br><span class="line">print(var)</span><br><span class="line"></span><br><span class="line">#变量数据类型</span><br><span class="line">list_0 = list(1,&apos;google&apos;,&apos;page&apos;)</span><br><span class="line">class(list_0)</span><br><span class="line"></span><br><span class="line">#查找变量</span><br><span class="line">print(ls())</span><br><span class="line">print(ls(pattern = &apos;var&apos;))</span><br><span class="line">print(ls(all.names = TRUE))</span><br><span class="line"></span><br><span class="line">#删除变量</span><br><span class="line">rm(var.2)</span><br><span class="line">print(var.2)</span><br><span class="line"></span><br><span class="line">#删除所有变量</span><br><span class="line">rm(list=ls())</span><br><span class="line">print(ls())</span><br><span class="line"></span><br><span class="line">#运算符</span><br><span class="line">v1 = 8</span><br><span class="line">t = 1:10</span><br><span class="line">print(v1 %in% t)</span><br></pre></td></tr></table></figure>
<h3 id="R语言的包"><a href="#R语言的包" class="headerlink" title="R语言的包"></a>R语言的包</h3><pre><code>#获取包含R语言的包的位置
.libPaths() 
#获取已经安装的软件包列表
library() 
#获取当前R环境中价值的所有包
search() 
#安装一个新的软件包
install.packages(&quot;XML&quot;)
#手动安装
#install.packages(&quot;E:/XML_3.98-1.3.zip&quot;, repos = NULL, type = &quot;source&quot;)

#加载包
#library(&quot;package Name&quot;, lib.loc = &quot;path to library&quot;)
</code></pre><h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://www.w3cschool.cn/r/r_overview.html" title="W3Cschool-R语言 教程" target="_blank" rel="noopener">https://www.w3cschool.cn/r/r_overview.html</a></p>
<p></p>
      <div class="post-button"><a class="btn" href="/mengxiao2000.github.io/2020/02/26/rstudy01/" rel="noopener"><i class="fa fa-angle-double-right fa-fw"></i>Read More</a></div>
    </div>
  </div>


<div id="pagination">
  <span class="page-number current">1</span><a class="page-number" href="/mengxiao2000.github.io/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/mengxiao2000.github.io/page/6/">6</a><a class="extend next" rel="next" href="/mengxiao2000.github.io/page/2/">Next</a>
</div>

<footer>
  <div>
  Copyright &copy; 2021.<a href="/mengxiao2000.github.io/">黎明已经不远</a><br>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme <a href="https://lx.js.org" target="_blank">Lx</a><br>
  </div>
</footer>

  </div>
</div>
</div>

<button class="hamburger hamburger--arrow-r" type="button">
    <div class="hamburger-box">
      <div class="hamburger-inner"></div>
    </div>
</button> 
<div class="menu visibility">
  <div class="menu-head">
    <span class="layer">
      <div class="col">
        <div class="row for-pic">
          <div class="profile-pic">
            <a href="/mengxiao2000.github.io/"><img src="/mengxiao2000.github.io/images/avatar.jpeg" alt="Syiao"></a>
          </div>
        </div>
        <div class="row for-name">
          <p>Syiao</p>
          <span class="tagline">Hello, World!</span>
        </div>
      </div>
    </span>
  </div>
  <nav class="menu-container">
  <ul class="menu-items">
    <li><a href="/"><i class="fa fa-home fa-fw"></i>Home</a></li>
    <li><a href="/mengxiao2000.github.io/archives/"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
    
    <li class="has-sub"><span class="dropdown-heading">
      <i class="fa fa-bookmark fa-fw"></i>Pages</span>
        <ul>
          <li><a href="/mengxiao2000.github.io/guestbook/">Guestbook</a></li>
        <li><a href="/mengxiao2000.github.io/about/">About</a></li>
        </ul>
    </li>
    <li class="has-sub"><span class="dropdown-heading">
      <i class="fa fa-link fa-fw"></i>Friends</span>
        <ul>
          <li> <a href="https://lx.js.org" target="_blank">Theme-Lx</a></li>
        </ul>
    </li>
  </ul>
  </nav>
</div>

<div class="gototop js-top">
  <a href="#" class="js-gotop"><i class="fa fa-arrow-up"></i></a>
</div>
<script src="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/js/jquery.easing.min.js"></script>
<script>
(function () {
	"use strict";
	var goToTop = function() {
		$(".js-gotop").on("click", function(event){
			event.preventDefault();
			$("html, body").animate({
				scrollTop: $("html").offset().top
			}, 500, "easeInOutExpo");
			return false;
		});
		$(window).scroll(function(){
			var $win = $(window);
			if ($win.scrollTop() > 200) {
				$(".js-top").addClass("active");
			} else {
				$(".js-top").removeClass("active");
			}
		});
	};
	$(function(){
		goToTop();
	});
}());
</script>



</body>
</html>
