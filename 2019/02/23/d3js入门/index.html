<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="theme-color" content="#58b77a">
  <title>D3js入门 | 黎明已经不远</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="Syiao">
  <meta name="keywords" content>
  <meta name="description" content="“多新鲜啊~~”">
  <script id="hexo-configurations">
  var CONFIG = {
    root: '/mengxiao2000.github.io/',
    theme: 'lx',
    version: '0.3.9',
    localsearch:{
      "enable": false,
      "trigger": "auto",
      "top_n_per_article": 1,
      "unescape": false,
      "preload": false
      },
    path: 'null'
  };
</script>

  <link rel="shortcut icon" href="/mengxiao2000.github.io/favicon.ico">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/css/main.min.css">
  <style type="text/css">
    pre,
    code {
      font-family: 'Fira Code', monospace;
    }
    html {
      font-family: sans-serif;
    }
    body {
      font-family: sans-serif;
    }
    h1, h2, h3, h4, h5, figure {
      font-family: sans-serif;
    }
    .menu-container{
      font-family: sans-serif;
    }
  </style>

  <script src="//cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/js/jquery.jside.menu.js"></script>
	<script>
	$(document).ready(function(){
	$(".menu-container").jSideMenu({
	    jSidePosition: "position-right",
	    jSideSticky: true,
	    jSideSkin: "greenish",
	     });
	}); 
	</script>
  <!--baidu_analytics-->
<script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?e191a1666c";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Fira Code:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/font-awesome@4/css/font-awesome.min.css">
<link rel="alternate" href="/mengxiao2000.github.io/atom.xml" title="黎明已经不远" type="application/atom+xml">
</head>
<body>
<div class="single">

<div id="page">
<div id="lx-aside" style="background-image: url(//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/images/post_cover.jpeg)" data-stellar-background-ratio="0.5">
  <div class="overlay">
  <div class="page-title">
    <div class="avatar"><a href="/mengxiao2000.github.io/"><img src="/mengxiao2000.github.io/images/avatar.jpeg"></a></div>
    <span>2019-02-23</span>
    <h2>D3js入门</h2>
    <div class="tags"><i class="fa fa-tag"></i><a class="tag-link" href="/mengxiao2000.github.io/tags/D3/">D3</a> <i class="fa fa-tag"></i><a class="tag-link" href="/mengxiao2000.github.io/tags/力学图/">力学图</a> <i class="fa fa-tag"></i><a class="tag-link" href="/mengxiao2000.github.io/tags/可视化/">可视化</a> <i class="fa fa-tag"></i><a class="tag-link" href="/mengxiao2000.github.io/tags/弦图/">弦图</a> <i class="fa fa-tag"></i><a class="tag-link" href="/mengxiao2000.github.io/tags/打包图/">打包图</a> <i class="fa fa-tag"></i><a class="tag-link" href="/mengxiao2000.github.io/tags/簇状图/">簇状图</a> <i class="fa fa-tag"></i><a class="tag-link" href="/mengxiao2000.github.io/tags/饼图/">饼图</a></div>
    </div>
</div>
</div>

<div id="lx-main-content">
  <div class="lx-post">
    <div class="lx-entry padding">
      <div>
        <a id="more"></a>
<h1 id="D3js入门学习"><a href="#D3js入门学习" class="headerlink" title="D3js入门学习"></a>D3js入门学习</h1><hr>
<p>依据<a href="http://www.ourd3js.com/wordpress/396/" target="_blank" rel="noopener">数据可视化专题站</a>的教学进行学习</p>
<hr>
<p><a href="http://www.poetryisland.cn/mydemo/pie.html" target="_blank" rel="noopener">饼图案例</a><br><a href="http://www.poetryisland.cn/mydemo/chord.html" target="_blank" rel="noopener">弦图案例</a><br><a href="http://www.poetryisland.cn/mydemo/pack.html" target="_blank" rel="noopener">打包图案例</a><br><a href="http://www.poetryisland.cn/mydemo/force.html" target="_blank" rel="noopener">力学图案例</a><br><a href="http://www.poetryisland.cn/mydemo/cluster.html" target="_blank" rel="noopener">簇状图案例</a></p>
<hr>
<h1 id="步骤归纳："><a href="#步骤归纳：" class="headerlink" title="步骤归纳："></a>步骤归纳：</h1><ul>
<li>定义变量和数据</li>
<li>布局（数据转换）layout</li>
<li>画布生成svg</li>
<li>绘制</li>
</ul>
<hr>
<h2 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;script src='http://d3js.org/d3.v3.min.js' charset="utf-8"&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line"></span><br><span class="line">        var width = <span class="number">400</span>;</span><br><span class="line">        var height = <span class="number">400</span>;</span><br><span class="line"></span><br><span class="line">        var dataset = [<span class="number">30</span> , <span class="number">10</span> ,<span class="number">43</span> , <span class="number">55</span> , <span class="number">13</span>];</span><br><span class="line">        <span class="comment">//生成画布</span></span><br><span class="line">        var svg = d3.select('body').append('svg').attr('width',width).attr('height',height);</span><br><span class="line">        <span class="comment">//布局 获得绘图需要的数据</span></span><br><span class="line"></span><br><span class="line">        var pie = d3.layout.pie(); <span class="comment">//定义一个布局</span></span><br><span class="line"></span><br><span class="line">        var piedata = pie(dataset); <span class="comment">//转换数据</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//弧生成器</span></span><br><span class="line">        var outerRadius = <span class="number">150</span> ; <span class="comment">//外半径</span></span><br><span class="line">        var innerRadius = <span class="number">50</span> ; <span class="comment">//内半径</span></span><br><span class="line"></span><br><span class="line">        var arc = d3.svg.arc() <span class="comment">//弧生成器</span></span><br><span class="line">            .innerRadius(innerRadius)<span class="comment">//设置外半径</span></span><br><span class="line">            .outerRadius(outerRadius);</span><br><span class="line"></span><br><span class="line">        var arcs = svg.selectAll(<span class="string">'g'</span>)</span><br><span class="line">            .data(piedata)</span><br><span class="line">            .enter()</span><br><span class="line">            .append(<span class="string">'g'</span>)</span><br><span class="line">            .attr('transform','translate('+(width/2)+','+(width/2)+')');</span><br><span class="line"></span><br><span class="line">        var color = d3.scale.category10(); <span class="comment">//有10种颜色的颜色比例尺</span></span><br><span class="line"></span><br><span class="line">        arcs.append('path')</span><br><span class="line">            .attr('fill',function (d,i) &#123;</span><br><span class="line">                <span class="keyword">return</span> color(i);</span><br><span class="line">            &#125;)</span><br><span class="line">            .attr(<span class="string">'d'</span>,function (d) &#123;</span><br><span class="line">                <span class="keyword">return</span> arc(d)</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">        arcs.append('text')</span><br><span class="line">            .attr('transform',function (d) &#123;</span><br><span class="line">                return 'translate('+ arc.centroid(d) + ')'; //arc.centroid 计算弧线的中心 文字的起始点为圆心</span><br><span class="line"></span><br><span class="line">            &#125;)</span><br><span class="line">            .attr('text-anchor','middle')</span><br><span class="line">            <span class="comment">//text-anchor="start"时，(x,y)为&lt;text&gt;的起始坐标。</span></span><br><span class="line">            <span class="comment">//text-anchor="middle"时，(x,y)为&lt;text&gt;的中轴坐标。</span></span><br><span class="line">            <span class="comment">//text-anchor="end"时，(x,y)为&lt;text&gt;的结束坐标。</span></span><br><span class="line">            .text(function (d) &#123;</span><br><span class="line">                <span class="keyword">return</span> d.data;</span><br><span class="line"></span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="力学图"><a href="#力学图" class="headerlink" title="力学图"></a>力学图</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;script src='http://d3js.org/d3.v3.min.js' charset="utf-8"&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var nodes = [ &#123; name: <span class="string">"桂林"</span> &#125;, &#123; name: <span class="string">"广州"</span> &#125;,</span><br><span class="line">              &#123; name: <span class="string">"厦门"</span> &#125;, &#123; name: <span class="string">"杭州"</span> &#125;,</span><br><span class="line">              &#123; name: <span class="string">"上海"</span> &#125;, &#123; name: <span class="string">"青岛"</span> &#125;,</span><br><span class="line">              &#123; name: <span class="string">"天津"</span> &#125; ];</span><br><span class="line"></span><br><span class="line">        var edges = [ &#123; source : <span class="number">0</span> , target: <span class="number">1</span> &#125; , &#123; source : <span class="number">0</span> , target: <span class="number">2</span> &#125; ,</span><br><span class="line">                       &#123; source : <span class="number">0</span> , target: <span class="number">3</span> &#125; , &#123; source : <span class="number">1</span> , target: <span class="number">4</span> &#125; ,</span><br><span class="line">                       &#123; source : <span class="number">1</span> , target: <span class="number">5</span> &#125; , &#123; source : <span class="number">1</span> , target: <span class="number">6</span> &#125; ];</span><br><span class="line"></span><br><span class="line">        var width = <span class="number">500</span>;</span><br><span class="line">        var height = <span class="number">500</span>;</span><br><span class="line">        <span class="comment">//画布</span></span><br><span class="line">        var svg = d3.select('body').append('svg').attr('width',width).attr('height',height)</span><br><span class="line">        <span class="comment">//布局</span></span><br><span class="line">        var force = d3.layout.force()</span><br><span class="line">            .nodes(nodes) <span class="comment">//指定节点数组</span></span><br><span class="line">            .links(edges) <span class="comment">//指定连线数组</span></span><br><span class="line">            .size([width , height]) <span class="comment">//指定作用域范围</span></span><br><span class="line">            .linkDistance(<span class="number">150</span>)<span class="comment">//指定连线长度</span></span><br><span class="line">            .charge([<span class="number">-400</span>]); <span class="comment">//相互之间作用力</span></span><br><span class="line"></span><br><span class="line">        force.start(); <span class="comment">//开始作用</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">//绘制</span></span><br><span class="line">        <span class="comment">//添加连线</span></span><br><span class="line">        var svg_edges = svg.selectAll('line')</span><br><span class="line">            .data(edges)</span><br><span class="line">            .enter()</span><br><span class="line">            .append('line')</span><br><span class="line">            .style('stroke','#ccc')</span><br><span class="line">            .style('stroke',1);</span><br><span class="line">        </span><br><span class="line">        var color = d3.scale.category20();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//添加节点</span></span><br><span class="line">        var svg_nodes = svg.selectAll('circle')</span><br><span class="line">            .data(nodes)</span><br><span class="line">            .enter()</span><br><span class="line">            .append('circle')</span><br><span class="line">            .attr(<span class="string">'r'</span>,function (d) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="number">10</span> * d.weight;</span><br><span class="line">            &#125;)</span><br><span class="line">            .style('fill',function (d,i) &#123;</span><br><span class="line">                <span class="keyword">return</span> color(i)</span><br><span class="line">                </span><br><span class="line">            &#125;)</span><br><span class="line">            .call(force.drag); <span class="comment">//使节点能够拖动</span></span><br><span class="line">            </span><br><span class="line">        <span class="comment">//添加描述节点的文字</span></span><br><span class="line">        var svg_texts = svg.selectAll('text')</span><br><span class="line">            .data(nodes)</span><br><span class="line">            .enter()</span><br><span class="line">            .append('text')</span><br><span class="line">            .style('fill','black')</span><br><span class="line">            .attr('dx',20)</span><br><span class="line">            .attr('dy',8)</span><br><span class="line">            .text(function (d) &#123;</span><br><span class="line">                <span class="keyword">return</span> d.name;</span><br><span class="line">                </span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//更新</span></span><br><span class="line">        force.on('tick',function () &#123;//对于每一个时间间隔</span><br><span class="line">            <span class="comment">//更新连线坐标</span></span><br><span class="line">            svg_edges.attr('x1',function (d) &#123;</span><br><span class="line">                <span class="keyword">return</span> d.source.x;</span><br><span class="line">            &#125;).attr('y1',function (d) &#123;</span><br><span class="line">                    <span class="keyword">return</span> d.source.y;</span><br><span class="line">            &#125;).attr('x2',function (d) &#123;</span><br><span class="line">                    <span class="keyword">return</span> d.target.x;</span><br><span class="line">            &#125;).attr('y2',function (d) &#123;</span><br><span class="line">                <span class="keyword">return</span> d.target.y;</span><br><span class="line"></span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//更新节点坐标</span></span><br><span class="line">            svg_nodes.attr('cx',function (d) &#123;</span><br><span class="line">                <span class="keyword">return</span> d.x;</span><br><span class="line"></span><br><span class="line">            &#125;).attr('cy',function(d)&#123;</span><br><span class="line">                <span class="keyword">return</span> d.y;</span><br><span class="line"></span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//更新文字坐标</span></span><br><span class="line">            svg_texts.attr(<span class="string">'x'</span>,function(d)&#123;</span><br><span class="line">                <span class="keyword">return</span> d.x;</span><br><span class="line">            &#125;).attr(<span class="string">'y'</span>,function (d) &#123;</span><br><span class="line">                <span class="keyword">return</span> d.y;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="弦图"><a href="#弦图" class="headerlink" title="弦图"></a>弦图</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	.chord path &#123;</span><br><span class="line">  		fill-opacity: <span class="number">0.67</span>;</span><br><span class="line">  		stroke: #<span class="number">000</span>;</span><br><span class="line">  		stroke-width: <span class="number">0.5</span>px;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;script src='http://d3js.org/d3.v3.min.js' charset="utf-8"&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        var city_name = [ <span class="string">"北京"</span> , <span class="string">"上海"</span> , <span class="string">"广州"</span> , <span class="string">"深圳"</span> , <span class="string">"香港"</span>  ];</span><br><span class="line"></span><br><span class="line">        var population = [</span><br><span class="line">          [ <span class="number">1000</span>,  <span class="number">3045</span>　 , <span class="number">4567</span>　, <span class="number">1234</span> , <span class="number">3714</span> ], <span class="comment">//各城市的人口来源</span></span><br><span class="line">          [ <span class="number">3214</span>,  <span class="number">2000</span>　 , <span class="number">2060</span>　, <span class="number">124</span>  , <span class="number">3234</span> ],</span><br><span class="line">          [ <span class="number">8761</span>,  <span class="number">6545</span>　 , <span class="number">3000</span>　, <span class="number">8045</span> , <span class="number">647</span>  ],</span><br><span class="line">          [ <span class="number">3211</span>,  <span class="number">1067</span>  , <span class="number">3214</span> , <span class="number">4000</span>  , <span class="number">1006</span> ],</span><br><span class="line">          [ <span class="number">2146</span>,  <span class="number">1034</span>　 , <span class="number">6745</span> , <span class="number">4764</span>  , <span class="number">5000</span> ]</span><br><span class="line">        ];</span><br><span class="line"></span><br><span class="line">        <span class="comment">//布局</span></span><br><span class="line">        var chord_layout = d3.layout.chord()</span><br><span class="line">            .padding(<span class="number">0.03</span>) <span class="comment">//节点间隔</span></span><br><span class="line">            .sortSubgroups(d3.descending) <span class="comment">//排序</span></span><br><span class="line">            .matrix(population); <span class="comment">//输入矩阵</span></span><br><span class="line"></span><br><span class="line">        var groups = chord_layout.groups();<span class="comment">//节点</span></span><br><span class="line">        var chords = chord_layout.chords();<span class="comment">//连线或弦</span></span><br><span class="line"></span><br><span class="line">        console.<span class="built_in">log</span>(groups);</span><br><span class="line">        console.<span class="built_in">log</span>(chords);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//定义相关变量</span></span><br><span class="line">        var width = <span class="number">600</span>;</span><br><span class="line">        var height = <span class="number">600</span>;</span><br><span class="line">        var innerRadius = width/<span class="number">2</span> * <span class="number">0.7</span>;</span><br><span class="line">        var outerRadius = innerRadius * <span class="number">1.1</span>;</span><br><span class="line"></span><br><span class="line">        var color20 = d3.scale.category20();</span><br><span class="line"></span><br><span class="line">        var svg = d3.select('body').append('svg').attr('width',width).attr('height',height)</span><br><span class="line">            .append('g').attr('transform','translate(' + width/2 + ',' + height/2 + ')');</span><br><span class="line"></span><br><span class="line">        <span class="comment">//绘制节点</span></span><br><span class="line">        var outer_arc = d3.svg.arc()</span><br><span class="line">            .innerRadius(innerRadius)</span><br><span class="line">            .outerRadius(outerRadius);</span><br><span class="line"></span><br><span class="line">        var g_outer = svg.append(<span class="string">'g'</span>);</span><br><span class="line"></span><br><span class="line">        g_outer.selectAll('path')</span><br><span class="line">            .data(groups)</span><br><span class="line">            .enter()</span><br><span class="line">            .append('path')</span><br><span class="line">            .style('fill',function (d) &#123;</span><br><span class="line">                <span class="keyword">return</span> color20(d.index);</span><br><span class="line">            &#125;)</span><br><span class="line">            .style('stroke',function (d) &#123;</span><br><span class="line">                <span class="keyword">return</span> color20(d.index);</span><br><span class="line">            &#125;)</span><br><span class="line">            .attr(<span class="string">'d'</span>,outer_arc);</span><br><span class="line"></span><br><span class="line">        g_outer.selectAll('text')</span><br><span class="line">            .data(groups)</span><br><span class="line">            .enter()</span><br><span class="line">            .append('text')</span><br><span class="line">            .each(function (d,i) &#123;</span><br><span class="line">                d.angle = (d.startAngle + d.endAngle)/<span class="number">2</span>; <span class="comment">//计算起始角度和终止角度的平均值</span></span><br><span class="line">                d.name = city_name[i];</span><br><span class="line">            &#125;)</span><br><span class="line">            .attr('dy','.35em') //相对于字体大小  dy是文本相对基点y向下偏移的距离</span><br><span class="line">            .attr('transform',function (d) &#123;</span><br><span class="line">                return 'rotate('+ (d.angle * 180/Math.PI) + ')'+ //d.angle 是弧度角</span><br><span class="line">                        'translate(0,' +  -1.0*(outerRadius + 10 ) + ')' +</span><br><span class="line">                    ((d.angle &gt; Math.PI*3/4 &amp;&amp; d.angle &lt; Math.PI* 5/4 ) ? 'rotate(180)' : '');</span><br><span class="line">            &#125;)</span><br><span class="line">            .text(function (d) &#123;</span><br><span class="line">                <span class="keyword">return</span> d.name;</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//绘制连线</span></span><br><span class="line">        var inner_chord = d3.svg.chord()</span><br><span class="line">            .radius(innerRadius);</span><br><span class="line"></span><br><span class="line">        svg.append(<span class="string">'g'</span>)</span><br><span class="line">            .attr('class','chord')</span><br><span class="line">            .selectAll('path')</span><br><span class="line">            .data(chords)</span><br><span class="line">            .enter()</span><br><span class="line">            .append('path')</span><br><span class="line">            .attr(<span class="string">'d'</span>,inner_chord)</span><br><span class="line">            .style('fill',function (d) &#123;</span><br><span class="line">                <span class="keyword">return</span> color20(d.source.index);</span><br><span class="line"></span><br><span class="line">            &#125;)</span><br><span class="line">            .style('opacity',1)</span><br><span class="line">            .on('mouseover',function (d,i) &#123;</span><br><span class="line">                d3.select(<span class="keyword">this</span>)</span><br><span class="line">                    .transition()</span><br><span class="line">                    .duration(<span class="number">1000</span>)</span><br><span class="line">                    .style('fill',color20(d.source.index));</span><br><span class="line"></span><br><span class="line">            &#125;)</span><br><span class="line">            .on(<span class="string">"mouseout"</span>,function(d,i) &#123;</span><br><span class="line">                d3.select(<span class="keyword">this</span>)</span><br><span class="line">                    .transition()</span><br><span class="line">                    .duration(<span class="number">1000</span>)</span><br><span class="line">                    .style(<span class="string">"fill"</span>,color20(d.source.index));</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="打包图"><a href="#打包图" class="headerlink" title="打包图"></a>打包图</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;script src='http://d3js.org/d3.v3.min.js' charset="utf-8"&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        width = <span class="number">500</span>;</span><br><span class="line">        height = <span class="number">500</span>;</span><br><span class="line">        <span class="comment">//布局</span></span><br><span class="line">        var pack = d3.layout.pack()</span><br><span class="line">            .size([width,height]) <span class="comment">//size() 设定转换的范围，即转换后顶点的坐标(x,y)，都会在此范围内</span></span><br><span class="line">            .radius(<span class="number">20</span>); <span class="comment">//radius() 设定转换后最小的圆的半径</span></span><br><span class="line"></span><br><span class="line">        d3.json('d3-5.json',function (error,root) &#123;</span><br><span class="line">            var nodes = pack.nodes(root);</span><br><span class="line">            var links = pack.links(nodes);</span><br><span class="line">            console.<span class="built_in">log</span>(nodes);</span><br><span class="line">            <span class="comment">//画布</span></span><br><span class="line">            var svg = d3.select(<span class="string">"body"</span>).append(<span class="string">"svg"</span>)</span><br><span class="line">                .attr(<span class="string">"width"</span>, width)</span><br><span class="line">                .attr(<span class="string">"height"</span>, height)</span><br><span class="line">                .append(<span class="string">"g"</span>)</span><br><span class="line">                .attr(<span class="string">"transform"</span>, <span class="string">"translate(0,0)"</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//绘制</span></span><br><span class="line">            svg.selectAll('circle')</span><br><span class="line">                .data(nodes)</span><br><span class="line">                .enter()</span><br><span class="line">                .append('circle')</span><br><span class="line">                .attr('fill','rgb(31,119,180')</span><br><span class="line">                .attr(<span class="string">"fill-opacity"</span>,<span class="string">"0.4"</span>)</span><br><span class="line">                .attr('cx',function (d) &#123;</span><br><span class="line">                    <span class="keyword">return</span> d.x;</span><br><span class="line">                &#125;)</span><br><span class="line">                .attr('cy',function (d) &#123;</span><br><span class="line">                    <span class="keyword">return</span> d.y;</span><br><span class="line">                &#125;)</span><br><span class="line">                .attr(<span class="string">'r'</span>,function (d) &#123;</span><br><span class="line">                    <span class="keyword">return</span> d.r</span><br><span class="line"></span><br><span class="line">                &#125;)</span><br><span class="line">                .on('mouseover',function (d,i) &#123;</span><br><span class="line">                    d3.select(<span class="keyword">this</span>)</span><br><span class="line">                        .attr('fill','yellow')</span><br><span class="line"></span><br><span class="line">                &#125;)</span><br><span class="line">                .on('mouseout',function (d,i) &#123;</span><br><span class="line">                    d3.select(<span class="keyword">this</span>)</span><br><span class="line">                        .attr('fill','rgb(31,119,180')</span><br><span class="line">                &#125;);</span><br><span class="line">            <span class="comment">//文字</span></span><br><span class="line">            svg.selectAll('text')</span><br><span class="line">                .data(nodes)</span><br><span class="line">                .enter()</span><br><span class="line">                .append('text')</span><br><span class="line">                .attr('font-size','10px')</span><br><span class="line">                .attr('fill','white')</span><br><span class="line">                .attr('fill-opacity',function (d) &#123;</span><br><span class="line">                    <span class="keyword">if</span>(d.depth == <span class="number">2</span>) <span class="comment">//深度为2则可视文本标签</span></span><br><span class="line">                        return '0.9';</span><br><span class="line">                    <span class="keyword">else</span></span><br><span class="line">                        <span class="keyword">return</span> <span class="string">'0'</span>;</span><br><span class="line">                &#125;)</span><br><span class="line">                .attr(<span class="string">'x'</span>,function (d) &#123;</span><br><span class="line">                    <span class="keyword">return</span> d.x;</span><br><span class="line"></span><br><span class="line">                &#125;)</span><br><span class="line">                .attr(<span class="string">'y'</span>,function (d) &#123;</span><br><span class="line">                    <span class="keyword">return</span> d.y</span><br><span class="line">                &#125;)</span><br><span class="line">                .attr('dx',-12)</span><br><span class="line">                .attr('dy',1)</span><br><span class="line">                .text(function (d) &#123;</span><br><span class="line">                    <span class="keyword">return</span> d.name;</span><br><span class="line">                &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="簇状图"><a href="#簇状图" class="headerlink" title="簇状图"></a>簇状图</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    .node circle &#123;</span><br><span class="line">      fill: #fff;</span><br><span class="line">      stroke: steelblue;</span><br><span class="line">      stroke-width: <span class="number">1.5</span>px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .node &#123;</span><br><span class="line">      font: <span class="number">12</span>px sans-serif;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .link &#123;</span><br><span class="line">      fill: none;</span><br><span class="line">      stroke: <span class="meta">#ccc;</span></span><br><span class="line">      stroke-width: <span class="number">1.5</span>px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">   &lt;script src='http://d3js.org/d3.v3.min.js' charset="utf-8"&gt;&lt;/script&gt;</span><br><span class="line">   &lt;script&gt;</span><br><span class="line">        var width = <span class="number">500</span>,</span><br><span class="line">            height = <span class="number">500</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//布局</span></span><br><span class="line">        var cluster = d3.layout.cluster() <span class="comment">//将实体聚集成树状图</span></span><br><span class="line">            .size([width, height - <span class="number">200</span>]);</span><br><span class="line"></span><br><span class="line">        var diagonal = d3.svg.diagonal() <span class="comment">//新建一个对角线生成器</span></span><br><span class="line">            .projection(function(d) &#123; <span class="keyword">return</span> [d.y, d.x]; &#125;);</span><br><span class="line">        console.<span class="built_in">log</span>(diagonal);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//画布</span></span><br><span class="line">        var svg = d3.select(<span class="string">"body"</span>).append(<span class="string">"svg"</span>)</span><br><span class="line">            .attr(<span class="string">"width"</span>, width)</span><br><span class="line">            .attr(<span class="string">"height"</span>, height)</span><br><span class="line">            .append(<span class="string">"g"</span>)</span><br><span class="line">            .attr(<span class="string">"transform"</span>, <span class="string">"translate(40,0)"</span>);</span><br><span class="line"></span><br><span class="line">        d3.json(<span class="string">"d3-5.json"</span>, function(error, root) &#123;</span><br><span class="line"></span><br><span class="line">          var nodes = cluster.nodes(root); <span class="comment">//计算簇布局并返回节点数组</span></span><br><span class="line">          var links = cluster.links(nodes); <span class="comment">//技术树节点之间的父子连接</span></span><br><span class="line"></span><br><span class="line">          console.<span class="built_in">log</span>(nodes);</span><br><span class="line">          console.<span class="built_in">log</span>(links);</span><br><span class="line"></span><br><span class="line">          var link = svg.selectAll(<span class="string">".link"</span>)</span><br><span class="line">              .data(links)</span><br><span class="line">              .enter()</span><br><span class="line">              .append(<span class="string">"path"</span>)</span><br><span class="line">              .attr(<span class="string">"class"</span>, <span class="string">"link"</span>)</span><br><span class="line">              .attr(<span class="string">"d"</span>, diagonal);</span><br><span class="line"></span><br><span class="line">          var node = svg.selectAll(<span class="string">".node"</span>)</span><br><span class="line">              .data(nodes)</span><br><span class="line">              .enter()</span><br><span class="line">              .append(<span class="string">"g"</span>)</span><br><span class="line">              .attr(<span class="string">"class"</span>, <span class="string">"node"</span>)</span><br><span class="line">              .attr(<span class="string">"transform"</span>, function(d) &#123; <span class="keyword">return</span> <span class="string">"translate("</span> + d.y + <span class="string">","</span> + d.x + <span class="string">")"</span>; &#125;);</span><br><span class="line"></span><br><span class="line">          node.append(<span class="string">"circle"</span>)</span><br><span class="line">              .attr(<span class="string">"r"</span>, <span class="number">4.5</span>);</span><br><span class="line"></span><br><span class="line">          node.append(<span class="string">"text"</span>)</span><br><span class="line">              .attr(<span class="string">"dx"</span>, function(d) &#123; <span class="keyword">return</span> d.children ? <span class="number">-8</span> : <span class="number">8</span>; &#125;)</span><br><span class="line">              .attr(<span class="string">"dy"</span>, <span class="number">3</span>)</span><br><span class="line">              .style(<span class="string">"text-anchor"</span>, function(d) &#123; <span class="keyword">return</span> d.children ? <span class="string">"end"</span> : <span class="string">"start"</span>; &#125;)  <span class="comment">//text-anchor 文本对齐方式</span></span><br><span class="line">              .text(function(d) &#123; <span class="keyword">return</span> d.name; &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">   &lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

      </div>
    </div>
  </div>
</div>
<div class="lx-navigation">
	<div class="lx-cover prev lx-cover-sm" style="background-image: url(//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/images/footer-l.jpeg)">
		<div class="overlay"></div>
		<a class="copy" href="/mengxiao2000.github.io/2019/02/23/d3_map/">
			<div class="display-t">
				<div class="display-tc">
					<div>
						<span>Next</span>
						<h3>D3js地图+...</h3>
					</div>
				</div>
			</div>
		</a>
	</div>
        <div class="lx-cover next lx-cover-sm" style="background-image: url(//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/images/footer-r.jpeg)">
		<div class="overlay"></div>
		<a class="copy" href="/mengxiao2000.github.io/2019/02/22/d3js柱状图/">
			<div class="display-t">
				<div class="display-tc">
					<div>
						<span>Prev</span>
						<h3>D3js柱状图</h3>
					</div>
				</div>
			</div>
		</a>
	</div>
</div>

</div>
<div class="comment"><div id="comments"></div></div>
<footer>
  <div>
  Copyright &copy; 2021.<a href="/mengxiao2000.github.io/">黎明已经不远</a><br>Powered by <a href="https://hexo.io" target="_blank">Hexo</a> | Theme <a href="https://lx.js.org" target="_blank">Lx</a><br>
  </div>
</footer>

</div>

<button class="hamburger hamburger--arrow-r" type="button">
    <div class="hamburger-box">
      <div class="hamburger-inner"></div>
    </div>
</button> 
<div class="menu visibility">
  <div class="menu-head">
    <span class="layer">
      <div class="col">
        <div class="row for-pic">
          <div class="profile-pic">
            <a href="/mengxiao2000.github.io/"><img src="/mengxiao2000.github.io/images/avatar.jpeg" alt="Syiao"></a>
          </div>
        </div>
        <div class="row for-name">
          <p>Syiao</p>
          <span class="tagline">Hello, World!</span>
        </div>
      </div>
    </span>
  </div>
  <nav class="menu-container">
  <ul class="menu-items">
    <li><a href="/"><i class="fa fa-home fa-fw"></i>Home</a></li>
    <li><a href="/mengxiao2000.github.io/archives/"><i class="fa fa-archive fa-fw"></i>Archives</a></li>
    
    <li class="has-sub"><span class="dropdown-heading">
      <i class="fa fa-bookmark fa-fw"></i>Pages</span>
        <ul>
          <li><a href="/mengxiao2000.github.io/guestbook/">Guestbook</a></li>
        <li><a href="/mengxiao2000.github.io/about/">About</a></li>
        </ul>
    </li>
    <li class="has-sub"><span class="dropdown-heading">
      <i class="fa fa-link fa-fw"></i>Friends</span>
        <ul>
          <li> <a href="https://lx.js.org" target="_blank">Theme-Lx</a></li>
        </ul>
    </li>
  </ul>
  </nav>
</div>

<div class="gototop js-top">
  <a href="#" class="js-gotop"><i class="fa fa-arrow-up"></i></a>
</div>
<script src="//cdn.jsdelivr.net/npm/theme-lx@0.3.9/source/js/jquery.easing.min.js"></script>
<script>
(function () {
	"use strict";
	var goToTop = function() {
		$(".js-gotop").on("click", function(event){
			event.preventDefault();
			$("html, body").animate({
				scrollTop: $("html").offset().top
			}, 500, "easeInOutExpo");
			return false;
		});
		$(window).scroll(function(){
			var $win = $(window);
			if ($win.scrollTop() > 200) {
				$(".js-top").addClass("active");
			} else {
				$(".js-top").removeClass("active");
			}
		});
	};
	$(function(){
		goToTop();
	});
}());
</script>



</body>
</html>
